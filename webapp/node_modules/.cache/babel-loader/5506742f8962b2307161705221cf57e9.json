{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react'), require('prop-types'), require('apollo-client')) : typeof define === 'function' && define.amd ? define(['exports', 'react', 'prop-types', 'apollo-client'], factory) : factory(global['react-apollo'] = {}, global.React, global.PropTypes, global.apolloClient);\n})(this, function (exports, React, PropTypes, apolloClient) {\n  'use strict';\n\n  function getProps(element) {\n    return element.props || element.attributes;\n  }\n\n  function isReactElement(element) {\n    return !!element.type;\n  }\n\n  function isComponentClass(Comp) {\n    return Comp.prototype && (Comp.prototype.render || Comp.prototype.isReactComponent);\n  }\n\n  function providesChildContext(instance) {\n    return !!instance.getChildContext;\n  }\n\n  function walkTree(element, context, visitor) {\n    if (Array.isArray(element)) {\n      element.forEach(function (item) {\n        return walkTree(item, context, visitor);\n      });\n      return;\n    }\n\n    if (!element) {\n      return;\n    }\n\n    if (isReactElement(element)) {\n      if (typeof element.type === 'function') {\n        var Comp = element.type;\n        var props = Object.assign({}, Comp.defaultProps, getProps(element));\n        var childContext_1 = context;\n        var child = void 0;\n\n        if (isComponentClass(Comp)) {\n          var instance_1 = new Comp(props, context);\n          Object.defineProperty(instance_1, 'props', {\n            value: instance_1.props || props\n          });\n          instance_1.context = instance_1.context || context;\n          instance_1.state = instance_1.state || null;\n\n          instance_1.setState = function (newState) {\n            if (typeof newState === 'function') {\n              newState = newState(instance_1.state, instance_1.props, instance_1.context);\n            }\n\n            instance_1.state = Object.assign({}, instance_1.state, newState);\n          };\n\n          if (Comp.getDerivedStateFromProps) {\n            var result = Comp.getDerivedStateFromProps(instance_1.props, instance_1.state);\n\n            if (result !== null) {\n              instance_1.state = Object.assign({}, instance_1.state, result);\n            }\n          } else if (instance_1.UNSAFE_componentWillMount) {\n            instance_1.UNSAFE_componentWillMount();\n          } else if (instance_1.componentWillMount) {\n            instance_1.componentWillMount();\n          }\n\n          if (providesChildContext(instance_1)) {\n            childContext_1 = Object.assign({}, context, instance_1.getChildContext());\n          }\n\n          if (visitor(element, instance_1, context, childContext_1) === false) {\n            return;\n          }\n\n          child = instance_1.render();\n        } else {\n          if (visitor(element, null, context) === false) {\n            return;\n          }\n\n          child = Comp(props, context);\n        }\n\n        if (child) {\n          if (Array.isArray(child)) {\n            child.forEach(function (item) {\n              return walkTree(item, childContext_1, visitor);\n            });\n          } else {\n            walkTree(child, childContext_1, visitor);\n          }\n        }\n      } else if (element.type._context || element.type.Consumer) {\n        if (visitor(element, null, context) === false) {\n          return;\n        }\n\n        var child = void 0;\n\n        if (element.type._context) {\n          element.type._context._currentValue = element.props.value;\n          child = element.props.children;\n        } else {\n          child = element.props.children(element.type._currentValue);\n        }\n\n        if (child) {\n          if (Array.isArray(child)) {\n            child.forEach(function (item) {\n              return walkTree(item, context, visitor);\n            });\n          } else {\n            walkTree(child, context, visitor);\n          }\n        }\n      } else {\n        if (visitor(element, null, context) === false) {\n          return;\n        }\n\n        if (element.props && element.props.children) {\n          React.Children.forEach(element.props.children, function (child) {\n            if (child) {\n              walkTree(child, context, visitor);\n            }\n          });\n        }\n      }\n    } else if (typeof element === 'string' || typeof element === 'number') {\n      visitor(element, null, context);\n    }\n  }\n\n  function hasFetchDataFunction(instance) {\n    return typeof instance.fetchData === 'function';\n  }\n\n  function isPromise(promise) {\n    return typeof promise.then === 'function';\n  }\n\n  function getPromisesFromTree(_a) {\n    var rootElement = _a.rootElement,\n        _b = _a.rootContext,\n        rootContext = _b === void 0 ? {} : _b;\n    var promises = [];\n    walkTree(rootElement, rootContext, function (_, instance, context, childContext) {\n      if (instance && hasFetchDataFunction(instance)) {\n        var promise = instance.fetchData();\n\n        if (isPromise(promise)) {\n          promises.push({\n            promise: promise,\n            context: childContext || context,\n            instance: instance\n          });\n          return false;\n        }\n      }\n    });\n    return promises;\n  }\n\n  function getDataAndErrorsFromTree(rootElement, rootContext, storeError) {\n    if (rootContext === void 0) {\n      rootContext = {};\n    }\n\n    var promises = getPromisesFromTree({\n      rootElement: rootElement,\n      rootContext: rootContext\n    });\n\n    if (!promises.length) {\n      return Promise.resolve();\n    }\n\n    var mappedPromises = promises.map(function (_a) {\n      var promise = _a.promise,\n          context = _a.context,\n          instance = _a.instance;\n      return promise.then(function (_) {\n        return getDataAndErrorsFromTree(instance.render(), context, storeError);\n      }).catch(function (e) {\n        return storeError(e);\n      });\n    });\n    return Promise.all(mappedPromises);\n  }\n\n  function processErrors(errors) {\n    switch (errors.length) {\n      case 0:\n        break;\n\n      case 1:\n        throw errors.pop();\n\n      default:\n        var wrapperError = new Error(errors.length + \" errors were thrown when executing your fetchData functions.\");\n        wrapperError.queryErrors = errors;\n        throw wrapperError;\n    }\n  }\n\n  function getDataFromTree(rootElement, rootContext) {\n    if (rootContext === void 0) {\n      rootContext = {};\n    }\n\n    var errors = [];\n\n    var storeError = function (error) {\n      return errors.push(error);\n    };\n\n    return getDataAndErrorsFromTree(rootElement, rootContext, storeError).then(function (_) {\n      return processErrors(errors);\n    });\n  }\n\n  var invariant = require('invariant');\n\n  var ApolloConsumer = function (props, context) {\n    invariant(!!context.client, \"Could not find \\\"client\\\" in the context of ApolloConsumer. Wrap the root component in an <ApolloProvider>\");\n    return props.children(context.client);\n  };\n\n  ApolloConsumer.contextTypes = {\n    client: PropTypes.object.isRequired\n  };\n  ApolloConsumer.propTypes = {\n    children: PropTypes.func.isRequired\n  };\n\n  var __extends = undefined && undefined.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return function (d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var invariant$1 = require('invariant');\n\n  var ApolloProvider = function (_super) {\n    __extends(ApolloProvider, _super);\n\n    function ApolloProvider(props, context) {\n      var _this = _super.call(this, props, context) || this;\n\n      _this.operations = new Map();\n      invariant$1(props.client, 'ApolloProvider was not passed a client instance. Make ' + 'sure you pass in your client via the \"client\" prop.');\n\n      if (!props.client.__operations_cache__) {\n        props.client.__operations_cache__ = _this.operations;\n      }\n\n      return _this;\n    }\n\n    ApolloProvider.prototype.getChildContext = function () {\n      return {\n        client: this.props.client,\n        operations: this.props.client.__operations_cache__\n      };\n    };\n\n    ApolloProvider.prototype.render = function () {\n      return this.props.children;\n    };\n\n    ApolloProvider.propTypes = {\n      client: PropTypes.object.isRequired,\n      children: PropTypes.node.isRequired\n    };\n    ApolloProvider.childContextTypes = {\n      client: PropTypes.object.isRequired,\n      operations: PropTypes.object\n    };\n    return ApolloProvider;\n  }(React.Component);\n\n  var invariant$2 = require('invariant');\n\n  var DocumentType;\n\n  (function (DocumentType) {\n    DocumentType[DocumentType[\"Query\"] = 0] = \"Query\";\n    DocumentType[DocumentType[\"Mutation\"] = 1] = \"Mutation\";\n    DocumentType[DocumentType[\"Subscription\"] = 2] = \"Subscription\";\n  })(DocumentType || (DocumentType = {}));\n\n  var cache = new Map();\n\n  function parser(document) {\n    var cached = cache.get(document);\n    if (cached) return cached;\n    var variables, type, name;\n    invariant$2(!!document && !!document.kind, \"Argument of \" + document + \" passed to parser was not a valid GraphQL \" + \"DocumentNode. You may need to use 'graphql-tag' or another method \" + \"to convert your operation into a document\");\n    var fragments = document.definitions.filter(function (x) {\n      return x.kind === 'FragmentDefinition';\n    });\n    var queries = document.definitions.filter(function (x) {\n      return x.kind === 'OperationDefinition' && x.operation === 'query';\n    });\n    var mutations = document.definitions.filter(function (x) {\n      return x.kind === 'OperationDefinition' && x.operation === 'mutation';\n    });\n    var subscriptions = document.definitions.filter(function (x) {\n      return x.kind === 'OperationDefinition' && x.operation === 'subscription';\n    });\n    invariant$2(!fragments.length || queries.length || mutations.length || subscriptions.length, \"Passing only a fragment to 'graphql' is not yet supported. \" + \"You must include a query, subscription or mutation as well\");\n    invariant$2(queries.length + mutations.length + subscriptions.length <= 1, \"react-apollo only supports a query, subscription, or a mutation per HOC. \" + (document + \" had \" + queries.length + \" queries, \" + subscriptions.length + \" \") + (\"subscriptions and \" + mutations.length + \" mutations. \") + \"You can use 'compose' to join multiple operation types to a component\");\n    type = queries.length ? DocumentType.Query : DocumentType.Mutation;\n    if (!queries.length && !mutations.length) type = DocumentType.Subscription;\n    var definitions = queries.length ? queries : mutations.length ? mutations : subscriptions;\n    invariant$2(definitions.length === 1, \"react-apollo only supports one defintion per HOC. \" + document + \" had \" + (definitions.length + \" definitions. \") + \"You can use 'compose' to join multiple operation types to a component\");\n    var definition = definitions[0];\n    variables = definition.variableDefinitions || [];\n\n    if (definition.name && definition.name.kind === 'Name') {\n      name = definition.name.value;\n    } else {\n      name = 'data';\n    }\n\n    var payload = {\n      name: name,\n      type: type,\n      variables: variables\n    };\n    cache.set(document, payload);\n    return payload;\n  }\n\n  var __extends$1 = undefined && undefined.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return function (d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var __assign = undefined && undefined.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  var __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    return t;\n  };\n\n  var shallowEqual = require('fbjs/lib/shallowEqual');\n\n  var invariant$3 = require('invariant');\n\n  function compact(obj) {\n    return Object.keys(obj).reduce(function (acc, key) {\n      if (obj[key] !== undefined) {\n        acc[key] = obj[key];\n      }\n\n      return acc;\n    }, {});\n  }\n\n  function observableQueryFields(observable) {\n    var fields = {\n      variables: observable.variables,\n      refetch: observable.refetch.bind(observable),\n      fetchMore: observable.fetchMore.bind(observable),\n      updateQuery: observable.updateQuery.bind(observable),\n      startPolling: observable.startPolling.bind(observable),\n      stopPolling: observable.stopPolling.bind(observable),\n      subscribeToMore: observable.subscribeToMore.bind(observable)\n    };\n    return fields;\n  }\n\n  var Query = function (_super) {\n    __extends$1(Query, _super);\n\n    function Query(props, context) {\n      var _this = _super.call(this, props, context) || this;\n\n      _this.previousData = {};\n      _this.hasMounted = false;\n\n      _this.startQuerySubscription = function () {\n        if (_this.querySubscription) return;\n\n        var initial = _this.getQueryResult();\n\n        _this.querySubscription = _this.queryObservable.subscribe({\n          next: function (_a) {\n            var data = _a.data;\n\n            if (initial && initial.networkStatus === 7 && shallowEqual(initial.data, data)) {\n              initial = undefined;\n              return;\n            }\n\n            initial = undefined;\n\n            _this.updateCurrentData();\n          },\n          error: function (error) {\n            _this.resubscribeToQuery();\n\n            if (!error.hasOwnProperty('graphQLErrors')) throw error;\n\n            _this.updateCurrentData();\n          }\n        });\n      };\n\n      _this.removeQuerySubscription = function () {\n        if (_this.querySubscription) {\n          _this.querySubscription.unsubscribe();\n\n          delete _this.querySubscription;\n        }\n      };\n\n      _this.updateCurrentData = function () {\n        var _a = _this.props,\n            onCompleted = _a.onCompleted,\n            onError = _a.onError;\n\n        if (onCompleted || onError) {\n          var currentResult = _this.queryObservable.currentResult();\n\n          var loading = currentResult.loading,\n              error = currentResult.error,\n              data = currentResult.data;\n\n          if (onCompleted && !loading && !error) {\n            onCompleted(data);\n          } else if (onError && !loading && error) {\n            onError(error);\n          }\n        }\n\n        if (_this.hasMounted) _this.forceUpdate();\n      };\n\n      _this.getQueryResult = function () {\n        var data = {\n          data: Object.create(null)\n        };\n        Object.assign(data, observableQueryFields(_this.queryObservable));\n\n        var currentResult = _this.queryObservable.currentResult();\n\n        var loading = currentResult.loading,\n            networkStatus = currentResult.networkStatus,\n            errors = currentResult.errors;\n        var error = currentResult.error;\n\n        if (errors && errors.length > 0) {\n          error = new apolloClient.ApolloError({\n            graphQLErrors: errors\n          });\n        }\n\n        Object.assign(data, {\n          loading: loading,\n          networkStatus: networkStatus,\n          error: error\n        });\n\n        if (loading) {\n          Object.assign(data.data, _this.previousData, currentResult.data);\n        } else if (error) {\n          Object.assign(data, {\n            data: (_this.queryObservable.getLastResult() || {}).data\n          });\n        } else {\n          Object.assign(data.data, currentResult.data);\n          _this.previousData = currentResult.data;\n        }\n\n        if (!_this.querySubscription) {\n          var oldRefetch_1 = data.refetch;\n\n          data.refetch = function (args) {\n            if (_this.querySubscription) {\n              return oldRefetch_1(args);\n            } else {\n              return new Promise(function (r, f) {\n                _this.refetcherQueue = {\n                  resolve: r,\n                  reject: f,\n                  args: args\n                };\n              });\n            }\n          };\n        }\n\n        data.client = _this.client;\n        return data;\n      };\n\n      _this.client = props.client || context.client;\n      invariant$3(!!_this.client, \"Could not find \\\"client\\\" in the context of Query or as passed props. Wrap the root component in an <ApolloProvider>\");\n\n      _this.initializeQueryObservable(props);\n\n      return _this;\n    }\n\n    Query.prototype.fetchData = function () {\n      if (this.props.skip) return false;\n\n      var _a = this.props,\n          children = _a.children,\n          ssr = _a.ssr,\n          displayName = _a.displayName,\n          skip = _a.skip,\n          client = _a.client,\n          onCompleted = _a.onCompleted,\n          onError = _a.onError,\n          opts = __rest(_a, [\"children\", \"ssr\", \"displayName\", \"skip\", \"client\", \"onCompleted\", \"onError\"]);\n\n      var fetchPolicy = opts.fetchPolicy;\n      if (ssr === false) return false;\n\n      if (fetchPolicy === 'network-only' || fetchPolicy === 'cache-and-network') {\n        fetchPolicy = 'cache-first';\n      }\n\n      var observable = this.client.watchQuery(__assign({}, opts, {\n        fetchPolicy: fetchPolicy\n      }));\n      var result = this.queryObservable.currentResult();\n      return result.loading ? observable.result() : false;\n    };\n\n    Query.prototype.componentDidMount = function () {\n      this.hasMounted = true;\n      if (this.props.skip) return;\n      this.startQuerySubscription();\n\n      if (this.refetcherQueue) {\n        var _a = this.refetcherQueue,\n            args = _a.args,\n            resolve = _a.resolve,\n            reject = _a.reject;\n        this.queryObservable.refetch(args).then(resolve).catch(reject);\n      }\n    };\n\n    Query.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\n      if (nextProps.skip && !this.props.skip) {\n        this.removeQuerySubscription();\n        return;\n      }\n\n      var client = nextProps.client;\n\n      if (shallowEqual(this.props, nextProps) && (this.client === client || this.client === nextContext.client)) {\n        return;\n      }\n\n      if (this.client !== client && this.client !== nextContext.client) {\n        if (client) {\n          this.client = client;\n        } else {\n          this.client = nextContext.client;\n        }\n\n        this.removeQuerySubscription();\n        this.queryObservable = null;\n        this.previousData = {};\n        this.updateQuery(nextProps);\n      }\n\n      if (this.props.query !== nextProps.query) {\n        this.removeQuerySubscription();\n      }\n\n      this.updateQuery(nextProps);\n      if (nextProps.skip) return;\n      this.startQuerySubscription();\n    };\n\n    Query.prototype.componentWillUnmount = function () {\n      this.removeQuerySubscription();\n      this.hasMounted = false;\n    };\n\n    Query.prototype.render = function () {\n      var children = this.props.children;\n      var queryResult = this.getQueryResult();\n      return children(queryResult);\n    };\n\n    Query.prototype.extractOptsFromProps = function (props) {\n      var variables = props.variables,\n          pollInterval = props.pollInterval,\n          fetchPolicy = props.fetchPolicy,\n          errorPolicy = props.errorPolicy,\n          notifyOnNetworkStatusChange = props.notifyOnNetworkStatusChange,\n          query = props.query,\n          _a = props.displayName,\n          displayName = _a === void 0 ? 'Query' : _a,\n          _b = props.context,\n          context = _b === void 0 ? {} : _b;\n      this.operation = parser(query);\n      invariant$3(this.operation.type === DocumentType.Query, \"The <Query /> component requires a graphql query, but got a \" + (this.operation.type === DocumentType.Mutation ? 'mutation' : 'subscription') + \".\");\n      return compact({\n        variables: variables,\n        pollInterval: pollInterval,\n        query: query,\n        fetchPolicy: fetchPolicy,\n        errorPolicy: errorPolicy,\n        notifyOnNetworkStatusChange: notifyOnNetworkStatusChange,\n        metadata: {\n          reactComponent: {\n            displayName: displayName\n          }\n        },\n        context: context\n      });\n    };\n\n    Query.prototype.initializeQueryObservable = function (props) {\n      var opts = this.extractOptsFromProps(props);\n\n      if (this.context.operations) {\n        this.context.operations.set(this.operation.name, {\n          query: opts.query,\n          variables: opts.variables\n        });\n      }\n\n      this.queryObservable = this.client.watchQuery(opts);\n    };\n\n    Query.prototype.updateQuery = function (props) {\n      if (!this.queryObservable) this.initializeQueryObservable(props);\n      this.queryObservable.setOptions(this.extractOptsFromProps(props)).catch(function () {\n        return null;\n      });\n    };\n\n    Query.prototype.resubscribeToQuery = function () {\n      this.removeQuerySubscription();\n      var lastError = this.queryObservable.getLastError();\n      var lastResult = this.queryObservable.getLastResult();\n      this.queryObservable.resetLastResults();\n      this.startQuerySubscription();\n      Object.assign(this.queryObservable, {\n        lastError: lastError,\n        lastResult: lastResult\n      });\n    };\n\n    Query.contextTypes = {\n      client: PropTypes.object.isRequired,\n      operations: PropTypes.object\n    };\n    Query.propTypes = {\n      children: PropTypes.func.isRequired,\n      fetchPolicy: PropTypes.string,\n      notifyOnNetworkStatusChange: PropTypes.bool,\n      onCompleted: PropTypes.func,\n      onError: PropTypes.func,\n      pollInterval: PropTypes.number,\n      query: PropTypes.object.isRequired,\n      variables: PropTypes.object,\n      ssr: PropTypes.bool\n    };\n    return Query;\n  }(React.Component);\n\n  var __extends$2 = undefined && undefined.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return function (d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var __assign$1 = undefined && undefined.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  var invariant$4 = require('invariant');\n\n  var shallowEqual$1 = require('fbjs/lib/shallowEqual');\n\n  var initialState = {\n    loading: false,\n    called: false,\n    error: undefined,\n    data: undefined\n  };\n\n  var Mutation = function (_super) {\n    __extends$2(Mutation, _super);\n\n    function Mutation(props, context) {\n      var _this = _super.call(this, props, context) || this;\n\n      _this.hasMounted = false;\n\n      _this.runMutation = function (options) {\n        if (options === void 0) {\n          options = {};\n        }\n\n        _this.onMutationStart();\n\n        var mutationId = _this.generateNewMutationId();\n\n        return _this.mutate(options).then(function (response) {\n          _this.onMutationCompleted(response, mutationId);\n\n          return response;\n        }).catch(function (e) {\n          _this.onMutationError(e, mutationId);\n\n          if (!_this.props.onError) throw e;\n        });\n      };\n\n      _this.mutate = function (options) {\n        var _a = _this.props,\n            mutation = _a.mutation,\n            variables = _a.variables,\n            optimisticResponse = _a.optimisticResponse,\n            update = _a.update,\n            _b = _a.context,\n            context = _b === void 0 ? {} : _b,\n            _c = _a.awaitRefetchQueries,\n            awaitRefetchQueries = _c === void 0 ? false : _c;\n        var refetchQueries = options.refetchQueries || _this.props.refetchQueries;\n\n        if (refetchQueries && refetchQueries.length && Array.isArray(refetchQueries)) {\n          refetchQueries = refetchQueries.map(function (x) {\n            if (typeof x === 'string' && _this.context.operations) return _this.context.operations.get(x) || x;\n            return x;\n          });\n          delete options.refetchQueries;\n        }\n\n        return _this.client.mutate(__assign$1({\n          mutation: mutation,\n          variables: variables,\n          optimisticResponse: optimisticResponse,\n          refetchQueries: refetchQueries,\n          awaitRefetchQueries: awaitRefetchQueries,\n          update: update,\n          context: context\n        }, options));\n      };\n\n      _this.onMutationStart = function () {\n        if (!_this.state.loading && !_this.props.ignoreResults) {\n          _this.setState({\n            loading: true,\n            error: undefined,\n            data: undefined,\n            called: true\n          });\n        }\n      };\n\n      _this.onMutationCompleted = function (response, mutationId) {\n        if (_this.hasMounted === false) {\n          return;\n        }\n\n        var _a = _this.props,\n            onCompleted = _a.onCompleted,\n            ignoreResults = _a.ignoreResults;\n        var data = response.data;\n\n        var callOncomplete = function () {\n          return onCompleted ? onCompleted(data) : null;\n        };\n\n        if (_this.isMostRecentMutation(mutationId) && !ignoreResults) {\n          _this.setState({\n            loading: false,\n            data: data\n          }, callOncomplete);\n        } else {\n          callOncomplete();\n        }\n      };\n\n      _this.onMutationError = function (error, mutationId) {\n        if (_this.hasMounted === false) {\n          return;\n        }\n\n        var onError = _this.props.onError;\n\n        var callOnError = function () {\n          return onError ? onError(error) : null;\n        };\n\n        if (_this.isMostRecentMutation(mutationId)) {\n          _this.setState({\n            loading: false,\n            error: error\n          }, callOnError);\n        } else {\n          callOnError();\n        }\n      };\n\n      _this.generateNewMutationId = function () {\n        _this.mostRecentMutationId = _this.mostRecentMutationId + 1;\n        return _this.mostRecentMutationId;\n      };\n\n      _this.isMostRecentMutation = function (mutationId) {\n        return _this.mostRecentMutationId === mutationId;\n      };\n\n      _this.verifyDocumentIsMutation = function (mutation) {\n        var operation = parser(mutation);\n        invariant$4(operation.type === DocumentType.Mutation, \"The <Mutation /> component requires a graphql mutation, but got a \" + (operation.type === DocumentType.Query ? 'query' : 'subscription') + \".\");\n      };\n\n      _this.client = props.client || context.client;\n      invariant$4(!!_this.client, 'Could not find \"client\" in the context or props of Mutation. Wrap ' + 'the root component in an <ApolloProvider>, or pass an ApolloClient ' + 'instance in via props.');\n\n      _this.verifyDocumentIsMutation(props.mutation);\n\n      _this.mostRecentMutationId = 0;\n      _this.state = initialState;\n      return _this;\n    }\n\n    Mutation.prototype.componentDidMount = function () {\n      this.hasMounted = true;\n    };\n\n    Mutation.prototype.componentWillUnmount = function () {\n      this.hasMounted = false;\n    };\n\n    Mutation.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\n      var client = nextProps.client;\n\n      if (shallowEqual$1(this.props, nextProps) && (this.client === client || this.client === nextContext.client)) {\n        return;\n      }\n\n      if (this.props.mutation !== nextProps.mutation) {\n        this.verifyDocumentIsMutation(nextProps.mutation);\n      }\n\n      if (this.client !== client && this.client !== nextContext.client) {\n        this.client = client || nextContext.client;\n        this.setState(initialState);\n      }\n    };\n\n    Mutation.prototype.render = function () {\n      var children = this.props.children;\n      var _a = this.state,\n          loading = _a.loading,\n          data = _a.data,\n          error = _a.error,\n          called = _a.called;\n      var result = {\n        called: called,\n        loading: loading,\n        data: data,\n        error: error,\n        client: this.client\n      };\n      return children(this.runMutation, result);\n    };\n\n    Mutation.contextTypes = {\n      client: PropTypes.object.isRequired,\n      operations: PropTypes.object\n    };\n    Mutation.propTypes = {\n      mutation: PropTypes.object.isRequired,\n      variables: PropTypes.object,\n      optimisticResponse: PropTypes.object,\n      refetchQueries: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object])), PropTypes.func]),\n      awaitRefetchQueries: PropTypes.bool,\n      update: PropTypes.func,\n      children: PropTypes.func.isRequired,\n      onCompleted: PropTypes.func,\n      onError: PropTypes.func\n    };\n    return Mutation;\n  }(React.Component);\n\n  var __extends$3 = undefined && undefined.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return function (d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var shallowEqual$2 = require('fbjs/lib/shallowEqual');\n\n  var invariant$5 = require('invariant');\n\n  var Subscription = function (_super) {\n    __extends$3(Subscription, _super);\n\n    function Subscription(props, context) {\n      var _this = _super.call(this, props, context) || this;\n\n      _this.initialize = function (props) {\n        if (_this.queryObservable) return;\n        _this.queryObservable = _this.client.subscribe({\n          query: props.subscription,\n          variables: props.variables\n        });\n      };\n\n      _this.startSubscription = function () {\n        if (_this.querySubscription) return;\n        _this.querySubscription = _this.queryObservable.subscribe({\n          next: _this.updateCurrentData,\n          error: _this.updateError\n        });\n      };\n\n      _this.getInitialState = function () {\n        return {\n          loading: true,\n          error: undefined,\n          data: undefined\n        };\n      };\n\n      _this.updateCurrentData = function (result) {\n        _this.setState({\n          data: result.data,\n          loading: false,\n          error: undefined\n        });\n      };\n\n      _this.updateError = function (error) {\n        _this.setState({\n          error: error,\n          loading: false\n        });\n      };\n\n      _this.endSubscription = function () {\n        if (_this.querySubscription) {\n          _this.querySubscription.unsubscribe();\n\n          delete _this.querySubscription;\n        }\n      };\n\n      invariant$5(!!context.client, \"Could not find \\\"client\\\" in the context of Subscription. Wrap the root component in an <ApolloProvider>\");\n      _this.client = context.client;\n\n      _this.initialize(props);\n\n      _this.state = _this.getInitialState();\n      return _this;\n    }\n\n    Subscription.prototype.componentDidMount = function () {\n      this.startSubscription();\n    };\n\n    Subscription.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\n      if (shallowEqual$2(this.props.variables, nextProps.variables) && this.client === nextContext.client && this.props.subscription === nextProps.subscription) {\n        return;\n      }\n\n      var shouldResubscribe = nextProps.shouldResubscribe;\n\n      if (typeof shouldResubscribe === 'function') {\n        shouldResubscribe = !!shouldResubscribe(this.props, nextProps);\n      }\n\n      var shouldNotResubscribe = shouldResubscribe === false;\n\n      if (this.client !== nextContext.client) {\n        this.client = nextContext.client;\n      }\n\n      if (!shouldNotResubscribe) {\n        this.endSubscription();\n        delete this.queryObservable;\n        this.initialize(nextProps);\n        this.startSubscription();\n        this.setState(this.getInitialState());\n        return;\n      }\n\n      this.initialize(nextProps);\n      this.startSubscription();\n    };\n\n    Subscription.prototype.componentWillUnmount = function () {\n      this.endSubscription();\n    };\n\n    Subscription.prototype.render = function () {\n      var result = Object.assign({}, this.state, {\n        variables: this.props.variables\n      });\n      return this.props.children(result);\n    };\n\n    Subscription.contextTypes = {\n      client: PropTypes.object.isRequired\n    };\n    Subscription.propTypes = {\n      subscription: PropTypes.object.isRequired,\n      variables: PropTypes.object,\n      children: PropTypes.func.isRequired,\n      shouldResubscribe: PropTypes.oneOfType([PropTypes.func, PropTypes.bool])\n    };\n    return Subscription;\n  }(React.Component);\n\n  var __extends$4 = undefined && undefined.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return function (d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var invariant$6 = require('invariant');\n\n  var defaultMapPropsToOptions = function () {\n    return {};\n  };\n\n  var defaultMapPropsToSkip = function () {\n    return false;\n  };\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  function calculateVariablesFromProps(operation, props, graphQLDisplayName, wrapperName) {\n    var variables = {};\n\n    for (var _i = 0, _a = operation.variables; _i < _a.length; _i++) {\n      var _b = _a[_i],\n          variable = _b.variable,\n          type = _b.type;\n      if (!variable.name || !variable.name.value) continue;\n      var variableName = variable.name.value;\n      var variableProp = props[variableName];\n\n      if (typeof variableProp !== 'undefined') {\n        variables[variableName] = variableProp;\n        continue;\n      }\n\n      if (type.kind !== 'NonNullType') {\n        variables[variableName] = null;\n        continue;\n      }\n\n      if (operation.type === DocumentType.Mutation) return;\n      invariant$6(typeof variableProp !== 'undefined', \"The operation '\" + operation.name + \"' wrapping '\" + wrapperName + \"' \" + (\"is expecting a variable: '\" + variable.name.value + \"' but it was not found in the props \") + (\"passed to '\" + graphQLDisplayName + \"'\"));\n    }\n\n    return variables;\n  }\n\n  var GraphQLBase = function (_super) {\n    __extends$4(GraphQLBase, _super);\n\n    function GraphQLBase(props) {\n      var _this = _super.call(this, props) || this;\n\n      _this.withRef = false;\n      _this.setWrappedInstance = _this.setWrappedInstance.bind(_this);\n      return _this;\n    }\n\n    GraphQLBase.prototype.getWrappedInstance = function () {\n      invariant$6(this.withRef, \"To access the wrapped instance, you need to specify \" + \"{ withRef: true } in the options\");\n      return this.wrappedInstance;\n    };\n\n    GraphQLBase.prototype.setWrappedInstance = function (ref) {\n      this.wrappedInstance = ref;\n    };\n\n    return GraphQLBase;\n  }(React.Component);\n\n  var __extends$5 = undefined && undefined.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return function (d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var __assign$2 = undefined && undefined.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  var __rest$1 = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    return t;\n  };\n\n  var hoistNonReactStatics = require('hoist-non-react-statics');\n\n  function query(document, operationOptions) {\n    if (operationOptions === void 0) {\n      operationOptions = {};\n    }\n\n    var operation = parser(document);\n    var _a = operationOptions.options,\n        options = _a === void 0 ? defaultMapPropsToOptions : _a,\n        _b = operationOptions.skip,\n        skip = _b === void 0 ? defaultMapPropsToSkip : _b,\n        _c = operationOptions.alias,\n        alias = _c === void 0 ? 'Apollo' : _c;\n    var mapPropsToOptions = options;\n    if (typeof mapPropsToOptions !== 'function') mapPropsToOptions = function () {\n      return options;\n    };\n    var mapPropsToSkip = skip;\n    if (typeof mapPropsToSkip !== 'function') mapPropsToSkip = function () {\n      return skip;\n    };\n    var lastResultProps;\n    return function (WrappedComponent) {\n      var graphQLDisplayName = alias + \"(\" + getDisplayName(WrappedComponent) + \")\";\n\n      var GraphQL = function (_super) {\n        __extends$5(GraphQL, _super);\n\n        function GraphQL() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        GraphQL.prototype.render = function () {\n          var _this = this;\n\n          var props = this.props;\n          var shouldSkip = mapPropsToSkip(props);\n          var opts = shouldSkip ? Object.create(null) : mapPropsToOptions(props);\n\n          if (!shouldSkip && !opts.variables && operation.variables.length > 0) {\n            opts.variables = calculateVariablesFromProps(operation, props, graphQLDisplayName, getDisplayName(WrappedComponent));\n          }\n\n          return React.createElement(Query, __assign$2({}, opts, {\n            displayName: graphQLDisplayName,\n            skip: shouldSkip,\n            query: document,\n            warnUnhandledError: true\n          }), function (_a) {\n            var _ = _a.client,\n                data = _a.data,\n                r = __rest$1(_a, [\"client\", \"data\"]);\n\n            var _b, _c;\n\n            if (operationOptions.withRef) {\n              _this.withRef = true;\n              props = Object.assign({}, props, {\n                ref: _this.setWrappedInstance\n              });\n            }\n\n            if (shouldSkip) return React.createElement(WrappedComponent, __assign$2({}, props));\n            var result = Object.assign(r, data || {});\n            var name = operationOptions.name || 'data';\n            var childProps = (_b = {}, _b[name] = result, _b);\n\n            if (operationOptions.props) {\n              var newResult = (_c = {}, _c[name] = result, _c.ownProps = props, _c);\n              lastResultProps = operationOptions.props(newResult, lastResultProps);\n              childProps = lastResultProps;\n            }\n\n            return React.createElement(WrappedComponent, __assign$2({}, props, childProps));\n          });\n        };\n\n        GraphQL.displayName = graphQLDisplayName;\n        GraphQL.WrappedComponent = WrappedComponent;\n        return GraphQL;\n      }(GraphQLBase);\n\n      return hoistNonReactStatics(GraphQL, WrappedComponent, {});\n    };\n  }\n\n  var __extends$6 = undefined && undefined.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return function (d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var __assign$3 = undefined && undefined.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  var hoistNonReactStatics$1 = require('hoist-non-react-statics');\n\n  function mutation(document, operationOptions) {\n    if (operationOptions === void 0) {\n      operationOptions = {};\n    }\n\n    var operation = parser(document);\n    var _a = operationOptions.options,\n        options = _a === void 0 ? defaultMapPropsToOptions : _a,\n        _b = operationOptions.alias,\n        alias = _b === void 0 ? 'Apollo' : _b;\n    var mapPropsToOptions = options;\n    if (typeof mapPropsToOptions !== 'function') mapPropsToOptions = function () {\n      return options;\n    };\n    return function (WrappedComponent) {\n      var graphQLDisplayName = alias + \"(\" + getDisplayName(WrappedComponent) + \")\";\n\n      var GraphQL = function (_super) {\n        __extends$6(GraphQL, _super);\n\n        function GraphQL() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        GraphQL.prototype.render = function () {\n          var props = this.props;\n          var opts = mapPropsToOptions(props);\n\n          if (operationOptions.withRef) {\n            this.withRef = true;\n            props = Object.assign({}, props, {\n              ref: this.setWrappedInstance\n            });\n          }\n\n          if (!opts.variables && operation.variables.length > 0) {\n            opts.variables = calculateVariablesFromProps(operation, props, graphQLDisplayName, getDisplayName(WrappedComponent));\n          }\n\n          return React.createElement(Mutation, __assign$3({}, opts, {\n            mutation: document,\n            ignoreResults: true\n          }), function (mutate, _result) {\n            var _a, _b;\n\n            var name = operationOptions.name || 'mutate';\n            var childProps = (_a = {}, _a[name] = mutate, _a);\n\n            if (operationOptions.props) {\n              var newResult = (_b = {}, _b[name] = mutate, _b.ownProps = props, _b);\n              childProps = operationOptions.props(newResult);\n            }\n\n            return React.createElement(WrappedComponent, __assign$3({}, props, childProps));\n          });\n        };\n\n        GraphQL.displayName = graphQLDisplayName;\n        GraphQL.WrappedComponent = WrappedComponent;\n        return GraphQL;\n      }(GraphQLBase);\n\n      return hoistNonReactStatics$1(GraphQL, WrappedComponent, {});\n    };\n  }\n\n  var __extends$7 = undefined && undefined.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return function (d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var __assign$4 = undefined && undefined.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  var __rest$2 = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    return t;\n  };\n\n  var hoistNonReactStatics$2 = require('hoist-non-react-statics');\n\n  function subscribe(document, operationOptions) {\n    if (operationOptions === void 0) {\n      operationOptions = {};\n    }\n\n    var operation = parser(document);\n    var _a = operationOptions.options,\n        options = _a === void 0 ? defaultMapPropsToOptions : _a,\n        _b = operationOptions.skip,\n        skip = _b === void 0 ? defaultMapPropsToSkip : _b,\n        _c = operationOptions.alias,\n        alias = _c === void 0 ? 'Apollo' : _c,\n        shouldResubscribe = operationOptions.shouldResubscribe;\n    var mapPropsToOptions = options;\n    if (typeof mapPropsToOptions !== 'function') mapPropsToOptions = function () {\n      return options;\n    };\n    var mapPropsToSkip = skip;\n    if (typeof mapPropsToSkip !== 'function') mapPropsToSkip = function () {\n      return skip;\n    };\n    var lastResultProps;\n    return function (WrappedComponent) {\n      var graphQLDisplayName = alias + \"(\" + getDisplayName(WrappedComponent) + \")\";\n\n      var GraphQL = function (_super) {\n        __extends$7(GraphQL, _super);\n\n        function GraphQL(props) {\n          var _this = _super.call(this, props) || this;\n\n          _this.state = {\n            resubscribe: false\n          };\n          return _this;\n        }\n\n        GraphQL.prototype.componentWillReceiveProps = function (nextProps) {\n          if (!shouldResubscribe) return;\n          this.setState({\n            resubscribe: shouldResubscribe(this.props, nextProps)\n          });\n        };\n\n        GraphQL.prototype.render = function () {\n          var _this = this;\n\n          var props = this.props;\n          var shouldSkip = mapPropsToSkip(props);\n          var opts = shouldSkip ? Object.create(null) : mapPropsToOptions(props);\n\n          if (!shouldSkip && !opts.variables && operation.variables.length > 0) {\n            opts.variables = calculateVariablesFromProps(operation, props, graphQLDisplayName, getDisplayName(WrappedComponent));\n          }\n\n          return React.createElement(Subscription, __assign$4({}, opts, {\n            displayName: graphQLDisplayName,\n            skip: shouldSkip,\n            subscription: document,\n            shouldResubscribe: this.state.resubscribe\n          }), function (_a) {\n            var data = _a.data,\n                r = __rest$2(_a, [\"data\"]);\n\n            var _b, _c;\n\n            if (operationOptions.withRef) {\n              _this.withRef = true;\n              props = Object.assign({}, props, {\n                ref: _this.setWrappedInstance\n              });\n            }\n\n            if (shouldSkip) return React.createElement(WrappedComponent, __assign$4({}, props));\n            var result = Object.assign(r, data || {});\n            var name = operationOptions.name || 'data';\n            var childProps = (_b = {}, _b[name] = result, _b);\n\n            if (operationOptions.props) {\n              var newResult = (_c = {}, _c[name] = result, _c.ownProps = props, _c);\n              lastResultProps = operationOptions.props(newResult, lastResultProps);\n              childProps = lastResultProps;\n            }\n\n            return React.createElement(WrappedComponent, __assign$4({}, props, childProps));\n          });\n        };\n\n        GraphQL.displayName = graphQLDisplayName;\n        GraphQL.WrappedComponent = WrappedComponent;\n        return GraphQL;\n      }(GraphQLBase);\n\n      return hoistNonReactStatics$2(GraphQL, WrappedComponent, {});\n    };\n  }\n\n  function graphql(document, operationOptions) {\n    if (operationOptions === void 0) {\n      operationOptions = {};\n    }\n\n    switch (parser(document).type) {\n      case DocumentType.Mutation:\n        return mutation(document, operationOptions);\n\n      case DocumentType.Subscription:\n        return subscribe(document, operationOptions);\n\n      case DocumentType.Query:\n      default:\n        return query(document, operationOptions);\n    }\n  }\n\n  var __extends$8 = undefined && undefined.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return function (d, b) {\n      extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n\n  var __assign$5 = undefined && undefined.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  var invariant$7 = require('invariant');\n\n  var hoistNonReactStatics$3 = require('hoist-non-react-statics');\n\n  function getDisplayName$1(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  function withApollo(WrappedComponent, operationOptions) {\n    if (operationOptions === void 0) {\n      operationOptions = {};\n    }\n\n    var withDisplayName = \"withApollo(\" + getDisplayName$1(WrappedComponent) + \")\";\n\n    var WithApollo = function (_super) {\n      __extends$8(WithApollo, _super);\n\n      function WithApollo(props) {\n        var _this = _super.call(this, props) || this;\n\n        _this.setWrappedInstance = _this.setWrappedInstance.bind(_this);\n        return _this;\n      }\n\n      WithApollo.prototype.getWrappedInstance = function () {\n        invariant$7(operationOptions.withRef, \"To access the wrapped instance, you need to specify \" + \"{ withRef: true } in the options\");\n        return this.wrappedInstance;\n      };\n\n      WithApollo.prototype.setWrappedInstance = function (ref) {\n        this.wrappedInstance = ref;\n      };\n\n      WithApollo.prototype.render = function () {\n        var _this = this;\n\n        return React.createElement(ApolloConsumer, null, function (client) {\n          var props = Object.assign({}, _this.props, {\n            client: client,\n            ref: operationOptions.withRef ? _this.setWrappedInstance : undefined\n          });\n          return React.createElement(WrappedComponent, __assign$5({}, props));\n        });\n      };\n\n      WithApollo.displayName = withDisplayName;\n      WithApollo.WrappedComponent = WrappedComponent;\n      return WithApollo;\n    }(React.Component);\n\n    return hoistNonReactStatics$3(WithApollo, WrappedComponent, {});\n  }\n\n  var compose = require('lodash/flowRight');\n\n  exports.compose = compose;\n  exports.getDataFromTree = getDataFromTree;\n  exports.ApolloConsumer = ApolloConsumer;\n  exports.ApolloProvider = ApolloProvider;\n  exports.Query = Query;\n  exports.Mutation = Mutation;\n  exports.Subscription = Subscription;\n  exports.graphql = graphql;\n  exports.withApollo = withApollo;\n  exports.walkTree = walkTree;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"sources":["getDataFromTree.js","ApolloConsumer.js","ApolloProvider.js","parser.js","Query.js","Mutation.js","Subscriptions.js","hoc-utils.js","query-hoc.js","mutation-hoc.js","subscription-hoc.js","graphql.js","withApollo.js","browser.js"],"names":["React.Children","PropTypes.object","PropTypes.func","this","invariant","PropTypes.node","Component","__extends","ApolloError","PropTypes.string","PropTypes.bool","PropTypes.number","React.Component","__assign","shallowEqual","PropTypes.oneOfType","PropTypes.arrayOf","__rest","React.createElement","hoistNonReactStatics","getDisplayName"],"mappings":";;;;;AACA,WAAS,QAAT,CAAkB,OAAlB,EAA2B;AACvB,WAAO,OAAO,CAAC,KAAR,IAAiB,OAAO,CAAC,UAAhC;AACH;;AACD,WAAS,cAAT,CAAwB,OAAxB,EAAiC;AAC7B,WAAO,CAAC,CAAC,OAAO,CAAC,IAAjB;AACH;;AACD,WAAS,gBAAT,CAA0B,IAA1B,EAAgC;AAC5B,WAAO,IAAI,CAAC,SAAL,KAAmB,IAAI,CAAC,SAAL,CAAe,MAAf,IAAyB,IAAI,CAAC,SAAL,CAAe,gBAA3D,CAAP;AACH;;AACD,WAAS,oBAAT,CAA8B,QAA9B,EAAwC;AACpC,WAAO,CAAC,CAAC,QAAQ,CAAC,eAAlB;AACH;;AACM,WAAS,QAAT,CAAkB,OAAlB,EAA2B,OAA3B,EAAoC,OAApC,EAA6C;AAChD,QAAI,KAAK,CAAC,OAAN,CAAc,OAAd,CAAJ,EAA4B;AACxB,MAAA,OAAO,CAAC,OAAR,CAAgB,UAAU,IAAV,EAAgB;AAAE,eAAO,QAAQ,CAAC,IAAD,EAAO,OAAP,EAAgB,OAAhB,CAAf;AAA0C,OAA5E;AACA;AACH;;AACD,QAAI,CAAC,OAAL,EAAc;AACV;AACH;;AACD,QAAI,cAAc,CAAC,OAAD,CAAlB,EAA6B;AACzB,UAAI,OAAO,OAAO,CAAC,IAAf,KAAwB,UAA5B,EAAwC;AACpC,YAAI,IAAI,GAAG,OAAO,CAAC,IAAnB;AACA,YAAI,KAAK,GAAG,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,IAAI,CAAC,YAAvB,EAAqC,QAAQ,CAAC,OAAD,CAA7C,CAAZ;AACA,YAAI,cAAc,GAAG,OAArB;AACA,YAAI,KAAK,GAAG,KAAK,CAAjB;;AACA,YAAI,gBAAgB,CAAC,IAAD,CAApB,EAA4B;AACxB,cAAI,UAAU,GAAG,IAAI,IAAJ,CAAS,KAAT,EAAgB,OAAhB,CAAjB;AACA,UAAA,MAAM,CAAC,cAAP,CAAsB,UAAtB,EAAkC,OAAlC,EAA2C;AACvC,YAAA,KAAK,EAAE,UAAU,CAAC,KAAX,IAAoB;AADY,WAA3C;AAGA,UAAA,UAAU,CAAC,OAAX,GAAqB,UAAU,CAAC,OAAX,IAAsB,OAA3C;AACA,UAAA,UAAU,CAAC,KAAX,GAAmB,UAAU,CAAC,KAAX,IAAoB,IAAvC;;AACA,UAAA,UAAU,CAAC,QAAX,GAAsB,UAAU,QAAV,EAAoB;AACtC,gBAAI,OAAO,QAAP,KAAoB,UAAxB,EAAoC;AAChC,cAAA,QAAQ,GAAG,QAAQ,CAAC,UAAU,CAAC,KAAZ,EAAmB,UAAU,CAAC,KAA9B,EAAqC,UAAU,CAAC,OAAhD,CAAnB;AACH;;AACD,YAAA,UAAU,CAAC,KAAX,GAAmB,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,UAAU,CAAC,KAA7B,EAAoC,QAApC,CAAnB;AACH,WALD;;AAMA,cAAI,IAAI,CAAC,wBAAT,EAAmC;AAC/B,gBAAI,MAAM,GAAG,IAAI,CAAC,wBAAL,CAA8B,UAAU,CAAC,KAAzC,EAAgD,UAAU,CAAC,KAA3D,CAAb;;AACA,gBAAI,MAAM,KAAK,IAAf,EAAqB;AACjB,cAAA,UAAU,CAAC,KAAX,GAAmB,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,UAAU,CAAC,KAA7B,EAAoC,MAApC,CAAnB;AACH;AACJ,WALD,MAMK,IAAI,UAAU,CAAC,yBAAf,EAA0C;AAC3C,YAAA,UAAU,CAAC,yBAAX;AACH,WAFI,MAGA,IAAI,UAAU,CAAC,kBAAf,EAAmC;AACpC,YAAA,UAAU,CAAC,kBAAX;AACH;;AACD,cAAI,oBAAoB,CAAC,UAAD,CAAxB,EAAsC;AAClC,YAAA,cAAc,GAAG,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,OAAlB,EAA2B,UAAU,CAAC,eAAX,EAA3B,CAAjB;AACH;;AACD,cAAI,OAAO,CAAC,OAAD,EAAU,UAAV,EAAsB,OAAtB,EAA+B,cAA/B,CAAP,KAA0D,KAA9D,EAAqE;AACjE;AACH;;AACD,UAAA,KAAK,GAAG,UAAU,CAAC,MAAX,EAAR;AACH,SAhCD,MAiCK;AACD,cAAI,OAAO,CAAC,OAAD,EAAU,IAAV,EAAgB,OAAhB,CAAP,KAAoC,KAAxC,EAA+C;AAC3C;AACH;;AACD,UAAA,KAAK,GAAG,IAAI,CAAC,KAAD,EAAQ,OAAR,CAAZ;AACH;;AACD,YAAI,KAAJ,EAAW;AACP,cAAI,KAAK,CAAC,OAAN,CAAc,KAAd,CAAJ,EAA0B;AACtB,YAAA,KAAK,CAAC,OAAN,CAAc,UAAU,IAAV,EAAgB;AAAE,qBAAO,QAAQ,CAAC,IAAD,EAAO,cAAP,EAAuB,OAAvB,CAAf;AAAiD,aAAjF;AACH,WAFD,MAGK;AACD,YAAA,QAAQ,CAAC,KAAD,EAAQ,cAAR,EAAwB,OAAxB,CAAR;AACH;AACJ;AACJ,OApDD,MAqDK,IAAI,OAAO,CAAC,IAAR,CAAa,QAAb,IAAyB,OAAO,CAAC,IAAR,CAAa,QAA1C,EAAoD;AACrD,YAAI,OAAO,CAAC,OAAD,EAAU,IAAV,EAAgB,OAAhB,CAAP,KAAoC,KAAxC,EAA+C;AAC3C;AACH;;AACD,YAAI,KAAK,GAAG,KAAK,CAAjB;;AACA,YAAI,OAAO,CAAC,IAAR,CAAa,QAAjB,EAA2B;AACvB,UAAA,OAAO,CAAC,IAAR,CAAa,QAAb,CAAsB,aAAtB,GAAsC,OAAO,CAAC,KAAR,CAAc,KAApD;AACA,UAAA,KAAK,GAAG,OAAO,CAAC,KAAR,CAAc,QAAtB;AACH,SAHD,MAIK;AACD,UAAA,KAAK,GAAG,OAAO,CAAC,KAAR,CAAc,QAAd,CAAuB,OAAO,CAAC,IAAR,CAAa,aAApC,CAAR;AACH;;AACD,YAAI,KAAJ,EAAW;AACP,cAAI,KAAK,CAAC,OAAN,CAAc,KAAd,CAAJ,EAA0B;AACtB,YAAA,KAAK,CAAC,OAAN,CAAc,UAAU,IAAV,EAAgB;AAAE,qBAAO,QAAQ,CAAC,IAAD,EAAO,OAAP,EAAgB,OAAhB,CAAf;AAA0C,aAA1E;AACH,WAFD,MAGK;AACD,YAAA,QAAQ,CAAC,KAAD,EAAQ,OAAR,EAAiB,OAAjB,CAAR;AACH;AACJ;AACJ,OApBI,MAqBA;AACD,YAAI,OAAO,CAAC,OAAD,EAAU,IAAV,EAAgB,OAAhB,CAAP,KAAoC,KAAxC,EAA+C;AAC3C;AACH;;AACD,YAAI,OAAO,CAAC,KAAR,IAAiB,OAAO,CAAC,KAAR,CAAc,QAAnC,EAA6C;AACzCA,UAAAA,KAAAA,CAAAA,QAAAA,CAAe,OAAfA,CAAuB,OAAO,CAAC,KAAR,CAAc,QAArCA,EAA+C,UAAU,KAAV,EAAiB;AAC5D,gBAAI,KAAJ,EAAW;AACP,cAAA,QAAQ,CAAC,KAAD,EAAQ,OAAR,EAAiB,OAAjB,CAAR;AACH;AACJ,WAJDA;AAKH;AACJ;AACJ,KAvFD,MAwFK,IAAI,OAAO,OAAP,KAAmB,QAAnB,IAA+B,OAAO,OAAP,KAAmB,QAAtD,EAAgE;AACjE,MAAA,OAAO,CAAC,OAAD,EAAU,IAAV,EAAgB,OAAhB,CAAP;AACH;AACJ;;AACD,WAAS,oBAAT,CAA8B,QAA9B,EAAwC;AACpC,WAAO,OAAO,QAAQ,CAAC,SAAhB,KAA8B,UAArC;AACH;;AACD,WAAS,SAAT,CAAmB,OAAnB,EAA4B;AACxB,WAAO,OAAO,OAAO,CAAC,IAAf,KAAwB,UAA/B;AACH;;AACD,WAAS,mBAAT,CAA6B,EAA7B,EAAiC;AAC7B,QAAI,WAAW,GAAG,EAAE,CAAC,WAArB;AAAA,QAAkC,EAAE,GAAG,EAAE,CAAC,WAA1C;AAAA,QAAuD,WAAW,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqB,EAA1F;AACA,QAAI,QAAQ,GAAG,EAAf;AACA,IAAA,QAAQ,CAAC,WAAD,EAAc,WAAd,EAA2B,UAAU,CAAV,EAAa,QAAb,EAAuB,OAAvB,EAAgC,YAAhC,EAA8C;AAC7E,UAAI,QAAQ,IAAI,oBAAoB,CAAC,QAAD,CAApC,EAAgD;AAC5C,YAAI,OAAO,GAAG,QAAQ,CAAC,SAAT,EAAd;;AACA,YAAI,SAAS,CAAC,OAAD,CAAb,EAAwB;AACpB,UAAA,QAAQ,CAAC,IAAT,CAAc;AAAE,YAAA,OAAO,EAAE,OAAX;AAAoB,YAAA,OAAO,EAAE,YAAY,IAAI,OAA7C;AAAsD,YAAA,QAAQ,EAAE;AAAhE,WAAd;AACA,iBAAO,KAAP;AACH;AACJ;AACJ,KARO,CAAR;AASA,WAAO,QAAP;AACH;;AACD,WAAS,wBAAT,CAAkC,WAAlC,EAA+C,WAA/C,EAA4D,UAA5D,EAAwE;AACpE,QAAI,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAE,MAAA,WAAW,GAAG,EAAd;AAAmB;;AACjD,QAAI,QAAQ,GAAG,mBAAmB,CAAC;AAAE,MAAA,WAAW,EAAE,WAAf;AAA4B,MAAA,WAAW,EAAE;AAAzC,KAAD,CAAlC;;AACA,QAAI,CAAC,QAAQ,CAAC,MAAd,EAAsB;AAClB,aAAO,OAAO,CAAC,OAAR,EAAP;AACH;;AACD,QAAI,cAAc,GAAG,QAAQ,CAAC,GAAT,CAAa,UAAU,EAAV,EAAc;AAC5C,UAAI,OAAO,GAAG,EAAE,CAAC,OAAjB;AAAA,UAA0B,OAAO,GAAG,EAAE,CAAC,OAAvC;AAAA,UAAgD,QAAQ,GAAG,EAAE,CAAC,QAA9D;AACA,aAAO,OAAO,CACT,IADE,CACG,UAAU,CAAV,EAAa;AAAE,eAAO,wBAAwB,CAAC,QAAQ,CAAC,MAAT,EAAD,EAAoB,OAApB,EAA6B,UAA7B,CAA/B;AAA0E,OAD5F,EAEF,KAFE,CAEI,UAAU,CAAV,EAAa;AAAE,eAAO,UAAU,CAAC,CAAD,CAAjB;AAAuB,OAF1C,CAAP;AAGH,KALoB,CAArB;AAMA,WAAO,OAAO,CAAC,GAAR,CAAY,cAAZ,CAAP;AACH;;AACD,WAAS,aAAT,CAAuB,MAAvB,EAA+B;AAC3B,YAAQ,MAAM,CAAC,MAAf;AACI,WAAK,CAAL;AACI;;AACJ,WAAK,CAAL;AACI,cAAM,MAAM,CAAC,GAAP,EAAN;;AACJ;AACI,YAAI,YAAY,GAAG,IAAI,KAAJ,CAAU,MAAM,CAAC,MAAP,GAAgB,8DAA1B,CAAnB;AACA,QAAA,YAAY,CAAC,WAAb,GAA2B,MAA3B;AACA,cAAM,YAAN;AARR;AAUH;;AACc,WAAS,eAAT,CAAyB,WAAzB,EAAsC,WAAtC,EAAmD;AAC9D,QAAI,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAE,MAAA,WAAW,GAAG,EAAd;AAAmB;;AACjD,QAAI,MAAM,GAAG,EAAb;;AACA,QAAI,UAAU,GAAG,UAAU,KAAV,EAAiB;AAAE,aAAO,MAAM,CAAC,IAAP,CAAY,KAAZ,CAAP;AAA4B,KAAhE;;AACA,WAAO,wBAAwB,CAAC,WAAD,EAAc,WAAd,EAA2B,UAA3B,CAAxB,CAA+D,IAA/D,CAAoE,UAAU,CAAV,EAAa;AACpF,aAAO,aAAa,CAAC,MAAD,CAApB;AACH,KAFM,CAAP;AAGH;;ACrKD,MAAI,SAAS,GAAG,OAAO,CAAC,WAAD,CAAvB;;AACA,MAAI,cAAc,GAAG,UAAU,KAAV,EAAiB,OAAjB,EAA0B;AAC3C,IAAA,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,MAAX,EAAmB,4GAAnB,CAAT;AACA,WAAO,KAAK,CAAC,QAAN,CAAe,OAAO,CAAC,MAAvB,CAAP;AACH,GAHD;;AAIA,EAAA,cAAc,CAAC,YAAf,GAA8B;AAC1B,IAAA,MAAM,EAAEC,SAAAA,CAAAA,MAAAA,CAAiB;AADC,GAA9B;AAGA,EAAA,cAAc,CAAC,SAAf,GAA2B;AACvB,IAAA,QAAQ,EAAEC,SAAAA,CAAAA,IAAAA,CAAe;AADF,GAA3B;;ACTA,MAAI,SAAS,GAAIC,SAAI,IAAIA,SAAI,CAAC,SAAd,IAA6B,YAAY;AACrD,QAAI,aAAa,GAAG,MAAM,CAAC,cAAP,IACf;AAAE,MAAA,SAAS,EAAE;AAAb,iBAA6B,KAA7B,IAAsC,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,MAAA,CAAC,CAAC,SAAF,GAAc,CAAd;AAAkB,KAD3D,IAEhB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,CAAC,CAAC,cAAF,CAAiB,CAAjB,CAAJ,EAAyB,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAO,UAAU,CAAV,EAAa,CAAb,EAAgB;AACnB,MAAA,aAAa,CAAC,CAAD,EAAI,CAAJ,CAAb;;AACA,eAAS,EAAT,GAAc;AAAE,aAAK,WAAL,GAAmB,CAAnB;AAAuB;;AACvC,MAAA,CAAC,CAAC,SAAF,GAAc,CAAC,KAAK,IAAN,GAAa,MAAM,CAAC,MAAP,CAAc,CAAd,CAAb,IAAiC,EAAE,CAAC,SAAH,GAAe,CAAC,CAAC,SAAjB,EAA4B,IAAI,EAAJ,EAA7D,CAAd;AACH,KAJD;AAKH,GAT2C,EAA5C;;AAYA,MAAIC,WAAS,GAAG,OAAO,CAAC,WAAD,CAAvB;;AACA,MAAI,cAAc,GAAI,UAAU,MAAV,EAAkB;AACpC,IAAA,SAAS,CAAC,cAAD,EAAiB,MAAjB,CAAT;;AACA,aAAS,cAAT,CAAwB,KAAxB,EAA+B,OAA/B,EAAwC;AACpC,UAAI,KAAK,GAAG,MAAM,CAAC,IAAP,CAAY,IAAZ,EAAkB,KAAlB,EAAyB,OAAzB,KAAqC,IAAjD;;AACA,MAAA,KAAK,CAAC,UAAN,GAAmB,IAAI,GAAJ,EAAnB;AACAA,MAAAA,WAAS,CAAC,KAAK,CAAC,MAAP,EAAe,2DACpB,qDADK,CAATA;;AAEA,UAAI,CAAC,KAAK,CAAC,MAAN,CAAa,oBAAlB,EAAwC;AACpC,QAAA,KAAK,CAAC,MAAN,CAAa,oBAAb,GAAoC,KAAK,CAAC,UAA1C;AACH;;AACD,aAAO,KAAP;AACH;;AACD,IAAA,cAAc,CAAC,SAAf,CAAyB,eAAzB,GAA2C,YAAY;AACnD,aAAO;AACH,QAAA,MAAM,EAAE,KAAK,KAAL,CAAW,MADhB;AAEH,QAAA,UAAU,EAAE,KAAK,KAAL,CAAW,MAAX,CAAkB;AAF3B,OAAP;AAIH,KALD;;AAMA,IAAA,cAAc,CAAC,SAAf,CAAyB,MAAzB,GAAkC,YAAY;AAC1C,aAAO,KAAK,KAAL,CAAW,QAAlB;AACH,KAFD;;AAGA,IAAA,cAAc,CAAC,SAAf,GAA2B;AACvB,MAAA,MAAM,EAAEH,SAAAA,CAAAA,MAAAA,CAAiB,UADF;AAEvB,MAAA,QAAQ,EAAEI,SAAAA,CAAAA,IAAAA,CAAe;AAFF,KAA3B;AAIA,IAAA,cAAc,CAAC,iBAAf,GAAmC;AAC/B,MAAA,MAAM,EAAEJ,SAAAA,CAAAA,MAAAA,CAAiB,UADM;AAE/B,MAAA,UAAU,EAAEA,SAAAA,CAAAA;AAFmB,KAAnC;AAIA,WAAO,cAAP;AACH,GA9BqB,CA8BpBK,KAAAA,CAAAA,SA9BoB,CAAtB;;ACbA,MAAIF,WAAS,GAAG,OAAO,CAAC,WAAD,CAAvB;;AACO,MAAI,YAAJ;;AACP,GAAC,UAAU,YAAV,EAAwB;AACrB,IAAA,YAAY,CAAC,YAAY,CAAC,OAAD,CAAZ,GAAwB,CAAzB,CAAZ,GAA0C,OAA1C;AACA,IAAA,YAAY,CAAC,YAAY,CAAC,UAAD,CAAZ,GAA2B,CAA5B,CAAZ,GAA6C,UAA7C;AACA,IAAA,YAAY,CAAC,YAAY,CAAC,cAAD,CAAZ,GAA+B,CAAhC,CAAZ,GAAiD,cAAjD;AACH,GAJD,EAIG,YAAY,KAAK,YAAY,GAAG,EAApB,CAJf;;AAKA,MAAI,KAAK,GAAG,IAAI,GAAJ,EAAZ;;AACO,WAAS,MAAT,CAAgB,QAAhB,EAA0B;AAC7B,QAAI,MAAM,GAAG,KAAK,CAAC,GAAN,CAAU,QAAV,CAAb;AACA,QAAI,MAAJ,EACI,OAAO,MAAP;AACJ,QAAI,SAAJ,EAAe,IAAf,EAAqB,IAArB;AACAA,IAAAA,WAAS,CAAC,CAAC,CAAC,QAAF,IAAc,CAAC,CAAC,QAAQ,CAAC,IAA1B,EAAgC,iBAAiB,QAAjB,GAA4B,4CAA5B,GACrC,oEADqC,GAErC,2CAFK,CAATA;AAGA,QAAI,SAAS,GAAG,QAAQ,CAAC,WAAT,CAAqB,MAArB,CAA4B,UAAU,CAAV,EAAa;AAAE,aAAO,CAAC,CAAC,IAAF,KAAW,oBAAlB;AAAyC,KAApF,CAAhB;AACA,QAAI,OAAO,GAAG,QAAQ,CAAC,WAAT,CAAqB,MAArB,CAA4B,UAAU,CAAV,EAAa;AAAE,aAAO,CAAC,CAAC,IAAF,KAAW,qBAAX,IAAoC,CAAC,CAAC,SAAF,KAAgB,OAA3D;AAAqE,KAAhH,CAAd;AACA,QAAI,SAAS,GAAG,QAAQ,CAAC,WAAT,CAAqB,MAArB,CAA4B,UAAU,CAAV,EAAa;AAAE,aAAO,CAAC,CAAC,IAAF,KAAW,qBAAX,IAAoC,CAAC,CAAC,SAAF,KAAgB,UAA3D;AAAwE,KAAnH,CAAhB;AACA,QAAI,aAAa,GAAG,QAAQ,CAAC,WAAT,CAAqB,MAArB,CAA4B,UAAU,CAAV,EAAa;AAAE,aAAO,CAAC,CAAC,IAAF,KAAW,qBAAX,IAAoC,CAAC,CAAC,SAAF,KAAgB,cAA3D;AAA4E,KAAvH,CAApB;AACAA,IAAAA,WAAS,CAAC,CAAC,SAAS,CAAC,MAAX,IAAsB,OAAO,CAAC,MAAR,IAAkB,SAAS,CAAC,MAA5B,IAAsC,aAAa,CAAC,MAA3E,EAAoF,gEACzF,4DADK,CAATA;AAEAA,IAAAA,WAAS,CAAC,OAAO,CAAC,MAAR,GAAiB,SAAS,CAAC,MAA3B,GAAoC,aAAa,CAAC,MAAlD,IAA4D,CAA7D,EAAgE,+EACpE,QAAQ,GAAG,OAAX,GAAqB,OAAO,CAAC,MAA7B,GAAsC,YAAtC,GAAqD,aAAa,CAAC,MAAnE,GAA4E,GADR,KAEpE,uBAAuB,SAAS,CAAC,MAAjC,GAA0C,cAF0B,IAGrE,uEAHK,CAATA;AAIA,IAAA,IAAI,GAAG,OAAO,CAAC,MAAR,GAAiB,YAAY,CAAC,KAA9B,GAAsC,YAAY,CAAC,QAA1D;AACA,QAAI,CAAC,OAAO,CAAC,MAAT,IAAmB,CAAC,SAAS,CAAC,MAAlC,EACI,IAAI,GAAG,YAAY,CAAC,YAApB;AACJ,QAAI,WAAW,GAAG,OAAO,CAAC,MAAR,GAAiB,OAAjB,GAA2B,SAAS,CAAC,MAAV,GAAmB,SAAnB,GAA+B,aAA5E;AACAA,IAAAA,WAAS,CAAC,WAAW,CAAC,MAAZ,KAAuB,CAAxB,EAA2B,uDAAuD,QAAvD,GAAkE,OAAlE,IAC/B,WAAW,CAAC,MAAZ,GAAqB,gBADU,IAEhC,uEAFK,CAATA;AAGA,QAAI,UAAU,GAAG,WAAW,CAAC,CAAD,CAA5B;AACA,IAAA,SAAS,GAAG,UAAU,CAAC,mBAAX,IAAkC,EAA9C;;AACA,QAAI,UAAU,CAAC,IAAX,IAAmB,UAAU,CAAC,IAAX,CAAgB,IAAhB,KAAyB,MAAhD,EAAwD;AACpD,MAAA,IAAI,GAAG,UAAU,CAAC,IAAX,CAAgB,KAAvB;AACH,KAFD,MAGK;AACD,MAAA,IAAI,GAAG,MAAP;AACH;;AACD,QAAI,OAAO,GAAG;AAAE,MAAA,IAAI,EAAE,IAAR;AAAc,MAAA,IAAI,EAAE,IAApB;AAA0B,MAAA,SAAS,EAAE;AAArC,KAAd;AACA,IAAA,KAAK,CAAC,GAAN,CAAU,QAAV,EAAoB,OAApB;AACA,WAAO,OAAP;AACH;;AC5CD,MAAIG,WAAS,GAAIJ,SAAI,IAAIA,SAAI,CAAC,SAAd,IAA6B,YAAY;AACrD,QAAI,aAAa,GAAG,MAAM,CAAC,cAAP,IACf;AAAE,MAAA,SAAS,EAAE;AAAb,iBAA6B,KAA7B,IAAsC,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,MAAA,CAAC,CAAC,SAAF,GAAc,CAAd;AAAkB,KAD3D,IAEhB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,CAAC,CAAC,cAAF,CAAiB,CAAjB,CAAJ,EAAyB,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAO,UAAU,CAAV,EAAa,CAAb,EAAgB;AACnB,MAAA,aAAa,CAAC,CAAD,EAAI,CAAJ,CAAb;;AACA,eAAS,EAAT,GAAc;AAAE,aAAK,WAAL,GAAmB,CAAnB;AAAuB;;AACvC,MAAA,CAAC,CAAC,SAAF,GAAc,CAAC,KAAK,IAAN,GAAa,MAAM,CAAC,MAAP,CAAc,CAAd,CAAb,IAAiC,EAAE,CAAC,SAAH,GAAe,CAAC,CAAC,SAAjB,EAA4B,IAAI,EAAJ,EAA7D,CAAd;AACH,KAJD;AAKH,GAT2C,EAA5C;;AAUA,MAAI,QAAQ,GAAIA,SAAI,IAAIA,SAAI,CAAC,QAAd,IAA2B,MAAM,CAAC,MAAlC,IAA4C,UAAS,CAAT,EAAY;AACnE,SAAK,IAAI,CAAJ,EAAO,CAAC,GAAG,CAAX,EAAc,CAAC,GAAG,SAAS,CAAC,MAAjC,EAAyC,CAAC,GAAG,CAA7C,EAAgD,CAAC,EAAjD,EAAqD;AACjD,MAAA,CAAC,GAAG,SAAS,CAAC,CAAD,CAAb;;AACA,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,CAArC,EAAwC,CAAxC,CAAJ,EACb,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AACP;;AACD,WAAO,CAAP;AACH,GAPD;;AAQA,MAAI,MAAM,GAAIA,SAAI,IAAIA,SAAI,CAAC,MAAd,IAAyB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAClD,QAAI,CAAC,GAAG,EAAR;;AACA,SAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,CAArC,EAAwC,CAAxC,KAA8C,CAAC,CAAC,OAAF,CAAU,CAAV,IAAe,CAAjE,EACb,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;;AACJ,QAAI,CAAC,IAAI,IAAL,IAAa,OAAO,MAAM,CAAC,qBAAd,KAAwC,UAAzD,EACI,KAAK,IAAI,CAAC,GAAG,CAAR,EAAW,CAAC,GAAG,MAAM,CAAC,qBAAP,CAA6B,CAA7B,CAApB,EAAqD,CAAC,GAAG,CAAC,CAAC,MAA3D,EAAmE,CAAC,EAApE,EAAwE,IAAI,CAAC,CAAC,OAAF,CAAU,CAAC,CAAC,CAAD,CAAX,IAAkB,CAAtB,EACpE,CAAC,CAAC,CAAC,CAAC,CAAD,CAAF,CAAD,GAAU,CAAC,CAAC,CAAC,CAAC,CAAD,CAAF,CAAX;AACR,WAAO,CAAP;AACH,GARD;;AAaA,MAAI,YAAY,GAAG,OAAO,CAAC,uBAAD,CAA1B;;AACA,MAAIC,WAAS,GAAG,OAAO,CAAC,WAAD,CAAvB;;AACA,WAAS,OAAT,CAAiB,GAAjB,EAAsB;AAClB,WAAO,MAAM,CAAC,IAAP,CAAY,GAAZ,EAAiB,MAAjB,CAAwB,UAAU,GAAV,EAAe,GAAf,EAAoB;AAC/C,UAAI,GAAG,CAAC,GAAD,CAAH,KAAa,SAAjB,EAA4B;AACxB,QAAA,GAAG,CAAC,GAAD,CAAH,GAAW,GAAG,CAAC,GAAD,CAAd;AACH;;AACD,aAAO,GAAP;AACH,KALM,EAKJ,EALI,CAAP;AAMH;;AACD,WAAS,qBAAT,CAA+B,UAA/B,EAA2C;AACvC,QAAI,MAAM,GAAG;AACT,MAAA,SAAS,EAAE,UAAU,CAAC,SADb;AAET,MAAA,OAAO,EAAE,UAAU,CAAC,OAAX,CAAmB,IAAnB,CAAwB,UAAxB,CAFA;AAGT,MAAA,SAAS,EAAE,UAAU,CAAC,SAAX,CAAqB,IAArB,CAA0B,UAA1B,CAHF;AAIT,MAAA,WAAW,EAAE,UAAU,CAAC,WAAX,CAAuB,IAAvB,CAA4B,UAA5B,CAJJ;AAKT,MAAA,YAAY,EAAE,UAAU,CAAC,YAAX,CAAwB,IAAxB,CAA6B,UAA7B,CALL;AAMT,MAAA,WAAW,EAAE,UAAU,CAAC,WAAX,CAAuB,IAAvB,CAA4B,UAA5B,CANJ;AAOT,MAAA,eAAe,EAAE,UAAU,CAAC,eAAX,CAA2B,IAA3B,CAAgC,UAAhC;AAPR,KAAb;AASA,WAAO,MAAP;AACH;;AACD,MAAI,KAAK,GAAI,UAAU,MAAV,EAAkB;AAC3BG,IAAAA,WAAS,CAAC,KAAD,EAAQ,MAAR,CAATA;;AACA,aAAS,KAAT,CAAe,KAAf,EAAsB,OAAtB,EAA+B;AAC3B,UAAI,KAAK,GAAG,MAAM,CAAC,IAAP,CAAY,IAAZ,EAAkB,KAAlB,EAAyB,OAAzB,KAAqC,IAAjD;;AACA,MAAA,KAAK,CAAC,YAAN,GAAqB,EAArB;AACA,MAAA,KAAK,CAAC,UAAN,GAAmB,KAAnB;;AACA,MAAA,KAAK,CAAC,sBAAN,GAA+B,YAAY;AACvC,YAAI,KAAK,CAAC,iBAAV,EACI;;AACJ,YAAI,OAAO,GAAG,KAAK,CAAC,cAAN,EAAd;;AACA,QAAA,KAAK,CAAC,iBAAN,GAA0B,KAAK,CAAC,eAAN,CAAsB,SAAtB,CAAgC;AACtD,UAAA,IAAI,EAAE,UAAU,EAAV,EAAc;AAChB,gBAAI,IAAI,GAAG,EAAE,CAAC,IAAd;;AACA,gBAAI,OAAO,IAAI,OAAO,CAAC,aAAR,KAA0B,CAArC,IAA0C,YAAY,CAAC,OAAO,CAAC,IAAT,EAAe,IAAf,CAA1D,EAAgF;AAC5E,cAAA,OAAO,GAAG,SAAV;AACA;AACH;;AACD,YAAA,OAAO,GAAG,SAAV;;AACA,YAAA,KAAK,CAAC,iBAAN;AACH,WATqD;AAUtD,UAAA,KAAK,EAAE,UAAU,KAAV,EAAiB;AACpB,YAAA,KAAK,CAAC,kBAAN;;AACA,gBAAI,CAAC,KAAK,CAAC,cAAN,CAAqB,eAArB,CAAL,EACI,MAAM,KAAN;;AACJ,YAAA,KAAK,CAAC,iBAAN;AACH;AAfqD,SAAhC,CAA1B;AAiBH,OArBD;;AAsBA,MAAA,KAAK,CAAC,uBAAN,GAAgC,YAAY;AACxC,YAAI,KAAK,CAAC,iBAAV,EAA6B;AACzB,UAAA,KAAK,CAAC,iBAAN,CAAwB,WAAxB;;AACA,iBAAO,KAAK,CAAC,iBAAb;AACH;AACJ,OALD;;AAMA,MAAA,KAAK,CAAC,iBAAN,GAA0B,YAAY;AAClC,YAAI,EAAE,GAAG,KAAK,CAAC,KAAf;AAAA,YAAsB,WAAW,GAAG,EAAE,CAAC,WAAvC;AAAA,YAAoD,OAAO,GAAG,EAAE,CAAC,OAAjE;;AACA,YAAI,WAAW,IAAI,OAAnB,EAA4B;AACxB,cAAI,aAAa,GAAG,KAAK,CAAC,eAAN,CAAsB,aAAtB,EAApB;;AACA,cAAI,OAAO,GAAG,aAAa,CAAC,OAA5B;AAAA,cAAqC,KAAK,GAAG,aAAa,CAAC,KAA3D;AAAA,cAAkE,IAAI,GAAG,aAAa,CAAC,IAAvF;;AACA,cAAI,WAAW,IAAI,CAAC,OAAhB,IAA2B,CAAC,KAAhC,EAAuC;AACnC,YAAA,WAAW,CAAC,IAAD,CAAX;AACH,WAFD,MAGK,IAAI,OAAO,IAAI,CAAC,OAAZ,IAAuB,KAA3B,EAAkC;AACnC,YAAA,OAAO,CAAC,KAAD,CAAP;AACH;AACJ;;AACD,YAAI,KAAK,CAAC,UAAV,EACI,KAAK,CAAC,WAAN;AACP,OAdD;;AAeA,MAAA,KAAK,CAAC,cAAN,GAAuB,YAAY;AAC/B,YAAI,IAAI,GAAG;AAAE,UAAA,IAAI,EAAE,MAAM,CAAC,MAAP,CAAc,IAAd;AAAR,SAAX;AACA,QAAA,MAAM,CAAC,MAAP,CAAc,IAAd,EAAoB,qBAAqB,CAAC,KAAK,CAAC,eAAP,CAAzC;;AACA,YAAI,aAAa,GAAG,KAAK,CAAC,eAAN,CAAsB,aAAtB,EAApB;;AACA,YAAI,OAAO,GAAG,aAAa,CAAC,OAA5B;AAAA,YAAqC,aAAa,GAAG,aAAa,CAAC,aAAnE;AAAA,YAAkF,MAAM,GAAG,aAAa,CAAC,MAAzG;AACA,YAAI,KAAK,GAAG,aAAa,CAAC,KAA1B;;AACA,YAAI,MAAM,IAAI,MAAM,CAAC,MAAP,GAAgB,CAA9B,EAAiC;AAC7B,UAAA,KAAK,GAAG,IAAIC,YAAAA,CAAAA,WAAJ,CAAgB;AAAE,YAAA,aAAa,EAAE;AAAjB,WAAhB,CAAR;AACH;;AACD,QAAA,MAAM,CAAC,MAAP,CAAc,IAAd,EAAoB;AAAE,UAAA,OAAO,EAAE,OAAX;AAAoB,UAAA,aAAa,EAAE,aAAnC;AAAkD,UAAA,KAAK,EAAE;AAAzD,SAApB;;AACA,YAAI,OAAJ,EAAa;AACT,UAAA,MAAM,CAAC,MAAP,CAAc,IAAI,CAAC,IAAnB,EAAyB,KAAK,CAAC,YAA/B,EAA6C,aAAa,CAAC,IAA3D;AACH,SAFD,MAGK,IAAI,KAAJ,EAAW;AACZ,UAAA,MAAM,CAAC,MAAP,CAAc,IAAd,EAAoB;AAChB,YAAA,IAAI,EAAE,CAAC,KAAK,CAAC,eAAN,CAAsB,aAAtB,MAAyC,EAA1C,EAA8C;AADpC,WAApB;AAGH,SAJI,MAKA;AACD,UAAA,MAAM,CAAC,MAAP,CAAc,IAAI,CAAC,IAAnB,EAAyB,aAAa,CAAC,IAAvC;AACA,UAAA,KAAK,CAAC,YAAN,GAAqB,aAAa,CAAC,IAAnC;AACH;;AACD,YAAI,CAAC,KAAK,CAAC,iBAAX,EAA8B;AAC1B,cAAI,YAAY,GAAG,IAAI,CAAC,OAAxB;;AACA,UAAA,IAAI,CAAC,OAAL,GAAe,UAAU,IAAV,EAAgB;AAC3B,gBAAI,KAAK,CAAC,iBAAV,EAA6B;AACzB,qBAAO,YAAY,CAAC,IAAD,CAAnB;AACH,aAFD,MAGK;AACD,qBAAO,IAAI,OAAJ,CAAY,UAAU,CAAV,EAAa,CAAb,EAAgB;AAC/B,gBAAA,KAAK,CAAC,cAAN,GAAuB;AAAE,kBAAA,OAAO,EAAE,CAAX;AAAc,kBAAA,MAAM,EAAE,CAAtB;AAAyB,kBAAA,IAAI,EAAE;AAA/B,iBAAvB;AACH,eAFM,CAAP;AAGH;AACJ,WATD;AAUH;;AACD,QAAA,IAAI,CAAC,MAAL,GAAc,KAAK,CAAC,MAApB;AACA,eAAO,IAAP;AACH,OArCD;;AAsCA,MAAA,KAAK,CAAC,MAAN,GAAe,KAAK,CAAC,MAAN,IAAgB,OAAO,CAAC,MAAvC;AACAJ,MAAAA,WAAS,CAAC,CAAC,CAAC,KAAK,CAAC,MAAT,EAAiB,sHAAjB,CAATA;;AACA,MAAA,KAAK,CAAC,yBAAN,CAAgC,KAAhC;;AACA,aAAO,KAAP;AACH;;AACD,IAAA,KAAK,CAAC,SAAN,CAAgB,SAAhB,GAA4B,YAAY;AACpC,UAAI,KAAK,KAAL,CAAW,IAAf,EACI,OAAO,KAAP;;AACJ,UAAI,EAAE,GAAG,KAAK,KAAd;AAAA,UAAqB,QAAQ,GAAG,EAAE,CAAC,QAAnC;AAAA,UAA6C,GAAG,GAAG,EAAE,CAAC,GAAtD;AAAA,UAA2D,WAAW,GAAG,EAAE,CAAC,WAA5E;AAAA,UAAyF,IAAI,GAAG,EAAE,CAAC,IAAnG;AAAA,UAAyG,MAAM,GAAG,EAAE,CAAC,MAArH;AAAA,UAA6H,WAAW,GAAG,EAAE,CAAC,WAA9I;AAAA,UAA2J,OAAO,GAAG,EAAE,CAAC,OAAxK;AAAA,UAAiL,IAAI,GAAG,MAAM,CAAC,EAAD,EAAK,CAAC,UAAD,EAAa,KAAb,EAAoB,aAApB,EAAmC,MAAnC,EAA2C,QAA3C,EAAqD,aAArD,EAAoE,SAApE,CAAL,CAA9L;;AACA,UAAI,WAAW,GAAG,IAAI,CAAC,WAAvB;AACA,UAAI,GAAG,KAAK,KAAZ,EACI,OAAO,KAAP;;AACJ,UAAI,WAAW,KAAK,cAAhB,IAAkC,WAAW,KAAK,mBAAtD,EAA2E;AACvE,QAAA,WAAW,GAAG,aAAd;AACH;;AACD,UAAI,UAAU,GAAG,KAAK,MAAL,CAAY,UAAZ,CAAuB,QAAQ,CAAC,EAAD,EAAK,IAAL,EAAW;AAAE,QAAA,WAAW,EAAE;AAAf,OAAX,CAA/B,CAAjB;AACA,UAAI,MAAM,GAAG,KAAK,eAAL,CAAqB,aAArB,EAAb;AACA,aAAO,MAAM,CAAC,OAAP,GAAiB,UAAU,CAAC,MAAX,EAAjB,GAAuC,KAA9C;AACH,KAbD;;AAcA,IAAA,KAAK,CAAC,SAAN,CAAgB,iBAAhB,GAAoC,YAAY;AAC5C,WAAK,UAAL,GAAkB,IAAlB;AACA,UAAI,KAAK,KAAL,CAAW,IAAf,EACI;AACJ,WAAK,sBAAL;;AACA,UAAI,KAAK,cAAT,EAAyB;AACrB,YAAI,EAAE,GAAG,KAAK,cAAd;AAAA,YAA8B,IAAI,GAAG,EAAE,CAAC,IAAxC;AAAA,YAA8C,OAAO,GAAG,EAAE,CAAC,OAA3D;AAAA,YAAoE,MAAM,GAAG,EAAE,CAAC,MAAhF;AACA,aAAK,eAAL,CAAqB,OAArB,CAA6B,IAA7B,EACK,IADL,CACU,OADV,EAEK,KAFL,CAEW,MAFX;AAGH;AACJ,KAXD;;AAYA,IAAA,KAAK,CAAC,SAAN,CAAgB,yBAAhB,GAA4C,UAAU,SAAV,EAAqB,WAArB,EAAkC;AAC1E,UAAI,SAAS,CAAC,IAAV,IAAkB,CAAC,KAAK,KAAL,CAAW,IAAlC,EAAwC;AACpC,aAAK,uBAAL;AACA;AACH;;AACD,UAAI,MAAM,GAAG,SAAS,CAAC,MAAvB;;AACA,UAAI,YAAY,CAAC,KAAK,KAAN,EAAa,SAAb,CAAZ,KACC,KAAK,MAAL,KAAgB,MAAhB,IAA0B,KAAK,MAAL,KAAgB,WAAW,CAAC,MADvD,CAAJ,EACoE;AAChE;AACH;;AACD,UAAI,KAAK,MAAL,KAAgB,MAAhB,IAA0B,KAAK,MAAL,KAAgB,WAAW,CAAC,MAA1D,EAAkE;AAC9D,YAAI,MAAJ,EAAY;AACR,eAAK,MAAL,GAAc,MAAd;AACH,SAFD,MAGK;AACD,eAAK,MAAL,GAAc,WAAW,CAAC,MAA1B;AACH;;AACD,aAAK,uBAAL;AACA,aAAK,eAAL,GAAuB,IAAvB;AACA,aAAK,YAAL,GAAoB,EAApB;AACA,aAAK,WAAL,CAAiB,SAAjB;AACH;;AACD,UAAI,KAAK,KAAL,CAAW,KAAX,KAAqB,SAAS,CAAC,KAAnC,EAA0C;AACtC,aAAK,uBAAL;AACH;;AACD,WAAK,WAAL,CAAiB,SAAjB;AACA,UAAI,SAAS,CAAC,IAAd,EACI;AACJ,WAAK,sBAAL;AACH,KA7BD;;AA8BA,IAAA,KAAK,CAAC,SAAN,CAAgB,oBAAhB,GAAuC,YAAY;AAC/C,WAAK,uBAAL;AACA,WAAK,UAAL,GAAkB,KAAlB;AACH,KAHD;;AAIA,IAAA,KAAK,CAAC,SAAN,CAAgB,MAAhB,GAAyB,YAAY;AACjC,UAAI,QAAQ,GAAG,KAAK,KAAL,CAAW,QAA1B;AACA,UAAI,WAAW,GAAG,KAAK,cAAL,EAAlB;AACA,aAAO,QAAQ,CAAC,WAAD,CAAf;AACH,KAJD;;AAKA,IAAA,KAAK,CAAC,SAAN,CAAgB,oBAAhB,GAAuC,UAAU,KAAV,EAAiB;AACpD,UAAI,SAAS,GAAG,KAAK,CAAC,SAAtB;AAAA,UAAiC,YAAY,GAAG,KAAK,CAAC,YAAtD;AAAA,UAAoE,WAAW,GAAG,KAAK,CAAC,WAAxF;AAAA,UAAqG,WAAW,GAAG,KAAK,CAAC,WAAzH;AAAA,UAAsI,2BAA2B,GAAG,KAAK,CAAC,2BAA1K;AAAA,UAAuM,KAAK,GAAG,KAAK,CAAC,KAArN;AAAA,UAA4N,EAAE,GAAG,KAAK,CAAC,WAAvO;AAAA,UAAoP,WAAW,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,OAAhB,GAA0B,EAA5R;AAAA,UAAgS,EAAE,GAAG,KAAK,CAAC,OAA3S;AAAA,UAAoT,OAAO,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqB,EAAnV;AACA,WAAK,SAAL,GAAiB,MAAM,CAAC,KAAD,CAAvB;AACAA,MAAAA,WAAS,CAAC,KAAK,SAAL,CAAe,IAAf,KAAwB,YAAY,CAAC,KAAtC,EAA6C,kEAAkE,KAAK,SAAL,CAAe,IAAf,KAAwB,YAAY,CAAC,QAArC,GAAgD,UAAhD,GAA6D,cAA/H,IAAiJ,GAA9L,CAATA;AACA,aAAO,OAAO,CAAC;AACX,QAAA,SAAS,EAAE,SADA;AAEX,QAAA,YAAY,EAAE,YAFH;AAGX,QAAA,KAAK,EAAE,KAHI;AAIX,QAAA,WAAW,EAAE,WAJF;AAKX,QAAA,WAAW,EAAE,WALF;AAMX,QAAA,2BAA2B,EAAE,2BANlB;AAOX,QAAA,QAAQ,EAAE;AAAE,UAAA,cAAc,EAAE;AAAE,YAAA,WAAW,EAAE;AAAf;AAAlB,SAPC;AAQX,QAAA,OAAO,EAAE;AARE,OAAD,CAAd;AAUH,KAdD;;AAeA,IAAA,KAAK,CAAC,SAAN,CAAgB,yBAAhB,GAA4C,UAAU,KAAV,EAAiB;AACzD,UAAI,IAAI,GAAG,KAAK,oBAAL,CAA0B,KAA1B,CAAX;;AACA,UAAI,KAAK,OAAL,CAAa,UAAjB,EAA6B;AACzB,aAAK,OAAL,CAAa,UAAb,CAAwB,GAAxB,CAA4B,KAAK,SAAL,CAAe,IAA3C,EAAiD;AAC7C,UAAA,KAAK,EAAE,IAAI,CAAC,KADiC;AAE7C,UAAA,SAAS,EAAE,IAAI,CAAC;AAF6B,SAAjD;AAIH;;AACD,WAAK,eAAL,GAAuB,KAAK,MAAL,CAAY,UAAZ,CAAuB,IAAvB,CAAvB;AACH,KATD;;AAUA,IAAA,KAAK,CAAC,SAAN,CAAgB,WAAhB,GAA8B,UAAU,KAAV,EAAiB;AAC3C,UAAI,CAAC,KAAK,eAAV,EACI,KAAK,yBAAL,CAA+B,KAA/B;AACJ,WAAK,eAAL,CAAqB,UAArB,CAAgC,KAAK,oBAAL,CAA0B,KAA1B,CAAhC,EACK,KADL,CACW,YAAY;AAAE,eAAO,IAAP;AAAc,OADvC;AAEH,KALD;;AAMA,IAAA,KAAK,CAAC,SAAN,CAAgB,kBAAhB,GAAqC,YAAY;AAC7C,WAAK,uBAAL;AACA,UAAI,SAAS,GAAG,KAAK,eAAL,CAAqB,YAArB,EAAhB;AACA,UAAI,UAAU,GAAG,KAAK,eAAL,CAAqB,aAArB,EAAjB;AACA,WAAK,eAAL,CAAqB,gBAArB;AACA,WAAK,sBAAL;AACA,MAAA,MAAM,CAAC,MAAP,CAAc,KAAK,eAAnB,EAAoC;AAAE,QAAA,SAAS,EAAE,SAAb;AAAwB,QAAA,UAAU,EAAE;AAApC,OAApC;AACH,KAPD;;AAQA,IAAA,KAAK,CAAC,YAAN,GAAqB;AACjB,MAAA,MAAM,EAAEH,SAAAA,CAAAA,MAAAA,CAAiB,UADR;AAEjB,MAAA,UAAU,EAAEA,SAAAA,CAAAA;AAFK,KAArB;AAIA,IAAA,KAAK,CAAC,SAAN,GAAkB;AACd,MAAA,QAAQ,EAAEC,SAAAA,CAAAA,IAAAA,CAAe,UADX;AAEd,MAAA,WAAW,EAAEO,SAAAA,CAAAA,MAFC;AAGd,MAAA,2BAA2B,EAAEC,SAAAA,CAAAA,IAHf;AAId,MAAA,WAAW,EAAER,SAAAA,CAAAA,IAJC;AAKd,MAAA,OAAO,EAAEA,SAAAA,CAAAA,IALK;AAMd,MAAA,YAAY,EAAES,SAAAA,CAAAA,MANA;AAOd,MAAA,KAAK,EAAEV,SAAAA,CAAAA,MAAAA,CAAiB,UAPV;AAQd,MAAA,SAAS,EAAEA,SAAAA,CAAAA,MARG;AASd,MAAA,GAAG,EAAES,SAAAA,CAAAA;AATS,KAAlB;AAWA,WAAO,KAAP;AACH,GApNY,CAoNXE,KAAAA,CAAAA,SApNW,CAAb;;ACrDA,MAAIL,WAAS,GAAIJ,SAAI,IAAIA,SAAI,CAAC,SAAd,IAA6B,YAAY;AACrD,QAAI,aAAa,GAAG,MAAM,CAAC,cAAP,IACf;AAAE,MAAA,SAAS,EAAE;AAAb,iBAA6B,KAA7B,IAAsC,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,MAAA,CAAC,CAAC,SAAF,GAAc,CAAd;AAAkB,KAD3D,IAEhB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,CAAC,CAAC,cAAF,CAAiB,CAAjB,CAAJ,EAAyB,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAO,UAAU,CAAV,EAAa,CAAb,EAAgB;AACnB,MAAA,aAAa,CAAC,CAAD,EAAI,CAAJ,CAAb;;AACA,eAAS,EAAT,GAAc;AAAE,aAAK,WAAL,GAAmB,CAAnB;AAAuB;;AACvC,MAAA,CAAC,CAAC,SAAF,GAAc,CAAC,KAAK,IAAN,GAAa,MAAM,CAAC,MAAP,CAAc,CAAd,CAAb,IAAiC,EAAE,CAAC,SAAH,GAAe,CAAC,CAAC,SAAjB,EAA4B,IAAI,EAAJ,EAA7D,CAAd;AACH,KAJD;AAKH,GAT2C,EAA5C;;AAUA,MAAIU,UAAQ,GAAIV,SAAI,IAAIA,SAAI,CAAC,QAAd,IAA2B,MAAM,CAAC,MAAlC,IAA4C,UAAS,CAAT,EAAY;AACnE,SAAK,IAAI,CAAJ,EAAO,CAAC,GAAG,CAAX,EAAc,CAAC,GAAG,SAAS,CAAC,MAAjC,EAAyC,CAAC,GAAG,CAA7C,EAAgD,CAAC,EAAjD,EAAqD;AACjD,MAAA,CAAC,GAAG,SAAS,CAAC,CAAD,CAAb;;AACA,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,CAArC,EAAwC,CAAxC,CAAJ,EACb,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AACP;;AACD,WAAO,CAAP;AACH,GAPD;;AAUA,MAAIC,WAAS,GAAG,OAAO,CAAC,WAAD,CAAvB;;AACA,MAAIU,cAAY,GAAG,OAAO,CAAC,uBAAD,CAA1B;;AAEA,MAAI,YAAY,GAAG;AACf,IAAA,OAAO,EAAE,KADM;AAEf,IAAA,MAAM,EAAE,KAFO;AAGf,IAAA,KAAK,EAAE,SAHQ;AAIf,IAAA,IAAI,EAAE;AAJS,GAAnB;;AAMA,MAAI,QAAQ,GAAI,UAAU,MAAV,EAAkB;AAC9BP,IAAAA,WAAS,CAAC,QAAD,EAAW,MAAX,CAATA;;AACA,aAAS,QAAT,CAAkB,KAAlB,EAAyB,OAAzB,EAAkC;AAC9B,UAAI,KAAK,GAAG,MAAM,CAAC,IAAP,CAAY,IAAZ,EAAkB,KAAlB,EAAyB,OAAzB,KAAqC,IAAjD;;AACA,MAAA,KAAK,CAAC,UAAN,GAAmB,KAAnB;;AACA,MAAA,KAAK,CAAC,WAAN,GAAoB,UAAU,OAAV,EAAmB;AACnC,YAAI,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAE,UAAA,OAAO,GAAG,EAAV;AAAe;;AACzC,QAAA,KAAK,CAAC,eAAN;;AACA,YAAI,UAAU,GAAG,KAAK,CAAC,qBAAN,EAAjB;;AACA,eAAO,KAAK,CAAC,MAAN,CAAa,OAAb,EACF,IADE,CACG,UAAU,QAAV,EAAoB;AAC1B,UAAA,KAAK,CAAC,mBAAN,CAA0B,QAA1B,EAAoC,UAApC;;AACA,iBAAO,QAAP;AACH,SAJM,EAKF,KALE,CAKI,UAAU,CAAV,EAAa;AACpB,UAAA,KAAK,CAAC,eAAN,CAAsB,CAAtB,EAAyB,UAAzB;;AACA,cAAI,CAAC,KAAK,CAAC,KAAN,CAAY,OAAjB,EACI,MAAM,CAAN;AACP,SATM,CAAP;AAUH,OAdD;;AAeA,MAAA,KAAK,CAAC,MAAN,GAAe,UAAU,OAAV,EAAmB;AAC9B,YAAI,EAAE,GAAG,KAAK,CAAC,KAAf;AAAA,YAAsB,QAAQ,GAAG,EAAE,CAAC,QAApC;AAAA,YAA8C,SAAS,GAAG,EAAE,CAAC,SAA7D;AAAA,YAAwE,kBAAkB,GAAG,EAAE,CAAC,kBAAhG;AAAA,YAAoH,MAAM,GAAG,EAAE,CAAC,MAAhI;AAAA,YAAwI,EAAE,GAAG,EAAE,CAAC,OAAhJ;AAAA,YAAyJ,OAAO,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqB,EAAxL;AAAA,YAA4L,EAAE,GAAG,EAAE,CAAC,mBAApM;AAAA,YAAyN,mBAAmB,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,KAAhB,GAAwB,EAAvQ;AACA,YAAI,cAAc,GAAG,OAAO,CAAC,cAAR,IAA0B,KAAK,CAAC,KAAN,CAAY,cAA3D;;AACA,YAAI,cAAc,IAAI,cAAc,CAAC,MAAjC,IAA2C,KAAK,CAAC,OAAN,CAAc,cAAd,CAA/C,EAA8E;AAC1E,UAAA,cAAc,GAAG,cAAc,CAAC,GAAf,CAAmB,UAAU,CAAV,EAAa;AAC7C,gBAAI,OAAO,CAAP,KAAa,QAAb,IAAyB,KAAK,CAAC,OAAN,CAAc,UAA3C,EACI,OAAO,KAAK,CAAC,OAAN,CAAc,UAAd,CAAyB,GAAzB,CAA6B,CAA7B,KAAmC,CAA1C;AACJ,mBAAO,CAAP;AACH,WAJgB,CAAjB;AAKA,iBAAO,OAAO,CAAC,cAAf;AACH;;AACD,eAAO,KAAK,CAAC,MAAN,CAAa,MAAb,CAAoBM,UAAQ,CAAC;AAAE,UAAA,QAAQ,EAAE,QAAZ;AAChC,UAAA,SAAS,EAAE,SADqB;AAEhC,UAAA,kBAAkB,EAAE,kBAFY;AAGhC,UAAA,cAAc,EAAE,cAHgB;AAIhC,UAAA,mBAAmB,EAAE,mBAJW;AAKhC,UAAA,MAAM,EAAE,MALwB;AAMhC,UAAA,OAAO,EAAE;AANuB,SAAD,EAMX,OANW,CAA5B,CAAP;AAOH,OAlBD;;AAmBA,MAAA,KAAK,CAAC,eAAN,GAAwB,YAAY;AAChC,YAAI,CAAC,KAAK,CAAC,KAAN,CAAY,OAAb,IAAwB,CAAC,KAAK,CAAC,KAAN,CAAY,aAAzC,EAAwD;AACpD,UAAA,KAAK,CAAC,QAAN,CAAe;AACX,YAAA,OAAO,EAAE,IADE;AAEX,YAAA,KAAK,EAAE,SAFI;AAGX,YAAA,IAAI,EAAE,SAHK;AAIX,YAAA,MAAM,EAAE;AAJG,WAAf;AAMH;AACJ,OATD;;AAUA,MAAA,KAAK,CAAC,mBAAN,GAA4B,UAAU,QAAV,EAAoB,UAApB,EAAgC;AACxD,YAAI,KAAK,CAAC,UAAN,KAAqB,KAAzB,EAAgC;AAC5B;AACH;;AACD,YAAI,EAAE,GAAG,KAAK,CAAC,KAAf;AAAA,YAAsB,WAAW,GAAG,EAAE,CAAC,WAAvC;AAAA,YAAoD,aAAa,GAAG,EAAE,CAAC,aAAvE;AACA,YAAI,IAAI,GAAG,QAAQ,CAAC,IAApB;;AACA,YAAI,cAAc,GAAG,YAAY;AAAE,iBAAQ,WAAW,GAAG,WAAW,CAAC,IAAD,CAAd,GAAuB,IAA1C;AAAkD,SAArF;;AACA,YAAI,KAAK,CAAC,oBAAN,CAA2B,UAA3B,KAA0C,CAAC,aAA/C,EAA8D;AAC1D,UAAA,KAAK,CAAC,QAAN,CAAe;AAAE,YAAA,OAAO,EAAE,KAAX;AAAkB,YAAA,IAAI,EAAE;AAAxB,WAAf,EAA+C,cAA/C;AACH,SAFD,MAGK;AACD,UAAA,cAAc;AACjB;AACJ,OAbD;;AAcA,MAAA,KAAK,CAAC,eAAN,GAAwB,UAAU,KAAV,EAAiB,UAAjB,EAA6B;AACjD,YAAI,KAAK,CAAC,UAAN,KAAqB,KAAzB,EAAgC;AAC5B;AACH;;AACD,YAAI,OAAO,GAAG,KAAK,CAAC,KAAN,CAAY,OAA1B;;AACA,YAAI,WAAW,GAAG,YAAY;AAAE,iBAAQ,OAAO,GAAG,OAAO,CAAC,KAAD,CAAV,GAAoB,IAAnC;AAA2C,SAA3E;;AACA,YAAI,KAAK,CAAC,oBAAN,CAA2B,UAA3B,CAAJ,EAA4C;AACxC,UAAA,KAAK,CAAC,QAAN,CAAe;AAAE,YAAA,OAAO,EAAE,KAAX;AAAkB,YAAA,KAAK,EAAE;AAAzB,WAAf,EAAiD,WAAjD;AACH,SAFD,MAGK;AACD,UAAA,WAAW;AACd;AACJ,OAZD;;AAaA,MAAA,KAAK,CAAC,qBAAN,GAA8B,YAAY;AACtC,QAAA,KAAK,CAAC,oBAAN,GAA6B,KAAK,CAAC,oBAAN,GAA6B,CAA1D;AACA,eAAO,KAAK,CAAC,oBAAb;AACH,OAHD;;AAIA,MAAA,KAAK,CAAC,oBAAN,GAA6B,UAAU,UAAV,EAAsB;AAC/C,eAAO,KAAK,CAAC,oBAAN,KAA+B,UAAtC;AACH,OAFD;;AAGA,MAAA,KAAK,CAAC,wBAAN,GAAiC,UAAU,QAAV,EAAoB;AACjD,YAAI,SAAS,GAAG,MAAM,CAAC,QAAD,CAAtB;AACAT,QAAAA,WAAS,CAAC,SAAS,CAAC,IAAV,KAAmB,YAAY,CAAC,QAAjC,EAA2C,wEAAwE,SAAS,CAAC,IAAV,KAAmB,YAAY,CAAC,KAAhC,GAAwC,OAAxC,GAAkD,cAA1H,IAA4I,GAAvL,CAATA;AACH,OAHD;;AAIA,MAAA,KAAK,CAAC,MAAN,GAAe,KAAK,CAAC,MAAN,IAAgB,OAAO,CAAC,MAAvC;AACAA,MAAAA,WAAS,CAAC,CAAC,CAAC,KAAK,CAAC,MAAT,EAAiB,uEACtB,qEADsB,GAEtB,wBAFK,CAATA;;AAGA,MAAA,KAAK,CAAC,wBAAN,CAA+B,KAAK,CAAC,QAArC;;AACA,MAAA,KAAK,CAAC,oBAAN,GAA6B,CAA7B;AACA,MAAA,KAAK,CAAC,KAAN,GAAc,YAAd;AACA,aAAO,KAAP;AACH;;AACD,IAAA,QAAQ,CAAC,SAAT,CAAmB,iBAAnB,GAAuC,YAAY;AAC/C,WAAK,UAAL,GAAkB,IAAlB;AACH,KAFD;;AAGA,IAAA,QAAQ,CAAC,SAAT,CAAmB,oBAAnB,GAA0C,YAAY;AAClD,WAAK,UAAL,GAAkB,KAAlB;AACH,KAFD;;AAGA,IAAA,QAAQ,CAAC,SAAT,CAAmB,yBAAnB,GAA+C,UAAU,SAAV,EAAqB,WAArB,EAAkC;AAC7E,UAAI,MAAM,GAAG,SAAS,CAAC,MAAvB;;AACA,UAAIU,cAAY,CAAC,KAAK,KAAN,EAAa,SAAb,CAAZA,KACC,KAAK,MAAL,KAAgB,MAAhB,IAA0B,KAAK,MAAL,KAAgB,WAAW,CAAC,MADvDA,CAAJ,EACoE;AAChE;AACH;;AACD,UAAI,KAAK,KAAL,CAAW,QAAX,KAAwB,SAAS,CAAC,QAAtC,EAAgD;AAC5C,aAAK,wBAAL,CAA8B,SAAS,CAAC,QAAxC;AACH;;AACD,UAAI,KAAK,MAAL,KAAgB,MAAhB,IAA0B,KAAK,MAAL,KAAgB,WAAW,CAAC,MAA1D,EAAkE;AAC9D,aAAK,MAAL,GAAc,MAAM,IAAI,WAAW,CAAC,MAApC;AACA,aAAK,QAAL,CAAc,YAAd;AACH;AACJ,KAbD;;AAcA,IAAA,QAAQ,CAAC,SAAT,CAAmB,MAAnB,GAA4B,YAAY;AACpC,UAAI,QAAQ,GAAG,KAAK,KAAL,CAAW,QAA1B;AACA,UAAI,EAAE,GAAG,KAAK,KAAd;AAAA,UAAqB,OAAO,GAAG,EAAE,CAAC,OAAlC;AAAA,UAA2C,IAAI,GAAG,EAAE,CAAC,IAArD;AAAA,UAA2D,KAAK,GAAG,EAAE,CAAC,KAAtE;AAAA,UAA6E,MAAM,GAAG,EAAE,CAAC,MAAzF;AACA,UAAI,MAAM,GAAG;AACT,QAAA,MAAM,EAAE,MADC;AAET,QAAA,OAAO,EAAE,OAFA;AAGT,QAAA,IAAI,EAAE,IAHG;AAIT,QAAA,KAAK,EAAE,KAJE;AAKT,QAAA,MAAM,EAAE,KAAK;AALJ,OAAb;AAOA,aAAO,QAAQ,CAAC,KAAK,WAAN,EAAmB,MAAnB,CAAf;AACH,KAXD;;AAYA,IAAA,QAAQ,CAAC,YAAT,GAAwB;AACpB,MAAA,MAAM,EAAEb,SAAAA,CAAAA,MAAAA,CAAiB,UADL;AAEpB,MAAA,UAAU,EAAEA,SAAAA,CAAAA;AAFQ,KAAxB;AAIA,IAAA,QAAQ,CAAC,SAAT,GAAqB;AACjB,MAAA,QAAQ,EAAEA,SAAAA,CAAAA,MAAAA,CAAiB,UADV;AAEjB,MAAA,SAAS,EAAEA,SAAAA,CAAAA,MAFM;AAGjB,MAAA,kBAAkB,EAAEA,SAAAA,CAAAA,MAHH;AAIjB,MAAA,cAAc,EAAEc,SAAAA,CAAAA,SAAAA,CAAoB,CAChCC,SAAAA,CAAAA,OAAAA,CAAkBD,SAAAA,CAAAA,SAAAA,CAAoB,CAACN,SAAAA,CAAAA,MAAD,EAAmBR,SAAAA,CAAAA,MAAnB,CAApBc,CAAlBC,CADgC,EAEhCd,SAAAA,CAAAA,IAFgC,CAApBa,CAJC;AAQjB,MAAA,mBAAmB,EAAEL,SAAAA,CAAAA,IARJ;AASjB,MAAA,MAAM,EAAER,SAAAA,CAAAA,IATS;AAUjB,MAAA,QAAQ,EAAEA,SAAAA,CAAAA,IAAAA,CAAe,UAVR;AAWjB,MAAA,WAAW,EAAEA,SAAAA,CAAAA,IAXI;AAYjB,MAAA,OAAO,EAAEA,SAAAA,CAAAA;AAZQ,KAArB;AAcA,WAAO,QAAP;AACH,GAnJe,CAmJdU,KAAAA,CAAAA,SAnJc,CAAhB;;AC7BA,MAAIL,WAAS,GAAIJ,SAAI,IAAIA,SAAI,CAAC,SAAd,IAA6B,YAAY;AACrD,QAAI,aAAa,GAAG,MAAM,CAAC,cAAP,IACf;AAAE,MAAA,SAAS,EAAE;AAAb,iBAA6B,KAA7B,IAAsC,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,MAAA,CAAC,CAAC,SAAF,GAAc,CAAd;AAAkB,KAD3D,IAEhB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,CAAC,CAAC,cAAF,CAAiB,CAAjB,CAAJ,EAAyB,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAO,UAAU,CAAV,EAAa,CAAb,EAAgB;AACnB,MAAA,aAAa,CAAC,CAAD,EAAI,CAAJ,CAAb;;AACA,eAAS,EAAT,GAAc;AAAE,aAAK,WAAL,GAAmB,CAAnB;AAAuB;;AACvC,MAAA,CAAC,CAAC,SAAF,GAAc,CAAC,KAAK,IAAN,GAAa,MAAM,CAAC,MAAP,CAAc,CAAd,CAAb,IAAiC,EAAE,CAAC,SAAH,GAAe,CAAC,CAAC,SAAjB,EAA4B,IAAI,EAAJ,EAA7D,CAAd;AACH,KAJD;AAKH,GAT2C,EAA5C;;AAYA,MAAIW,cAAY,GAAG,OAAO,CAAC,uBAAD,CAA1B;;AACA,MAAIV,WAAS,GAAG,OAAO,CAAC,WAAD,CAAvB;;AACA,MAAI,YAAY,GAAI,UAAU,MAAV,EAAkB;AAClCG,IAAAA,WAAS,CAAC,YAAD,EAAe,MAAf,CAATA;;AACA,aAAS,YAAT,CAAsB,KAAtB,EAA6B,OAA7B,EAAsC;AAClC,UAAI,KAAK,GAAG,MAAM,CAAC,IAAP,CAAY,IAAZ,EAAkB,KAAlB,EAAyB,OAAzB,KAAqC,IAAjD;;AACA,MAAA,KAAK,CAAC,UAAN,GAAmB,UAAU,KAAV,EAAiB;AAChC,YAAI,KAAK,CAAC,eAAV,EACI;AACJ,QAAA,KAAK,CAAC,eAAN,GAAwB,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB;AAC3C,UAAA,KAAK,EAAE,KAAK,CAAC,YAD8B;AAE3C,UAAA,SAAS,EAAE,KAAK,CAAC;AAF0B,SAAvB,CAAxB;AAIH,OAPD;;AAQA,MAAA,KAAK,CAAC,iBAAN,GAA0B,YAAY;AAClC,YAAI,KAAK,CAAC,iBAAV,EACI;AACJ,QAAA,KAAK,CAAC,iBAAN,GAA0B,KAAK,CAAC,eAAN,CAAsB,SAAtB,CAAgC;AACtD,UAAA,IAAI,EAAE,KAAK,CAAC,iBAD0C;AAEtD,UAAA,KAAK,EAAE,KAAK,CAAC;AAFyC,SAAhC,CAA1B;AAIH,OAPD;;AAQA,MAAA,KAAK,CAAC,eAAN,GAAwB,YAAY;AAAE,eAAQ;AAC1C,UAAA,OAAO,EAAE,IADiC;AAE1C,UAAA,KAAK,EAAE,SAFmC;AAG1C,UAAA,IAAI,EAAE;AAHoC,SAAR;AAIjC,OAJL;;AAKA,MAAA,KAAK,CAAC,iBAAN,GAA0B,UAAU,MAAV,EAAkB;AACxC,QAAA,KAAK,CAAC,QAAN,CAAe;AACX,UAAA,IAAI,EAAE,MAAM,CAAC,IADF;AAEX,UAAA,OAAO,EAAE,KAFE;AAGX,UAAA,KAAK,EAAE;AAHI,SAAf;AAKH,OAND;;AAOA,MAAA,KAAK,CAAC,WAAN,GAAoB,UAAU,KAAV,EAAiB;AACjC,QAAA,KAAK,CAAC,QAAN,CAAe;AACX,UAAA,KAAK,EAAE,KADI;AAEX,UAAA,OAAO,EAAE;AAFE,SAAf;AAIH,OALD;;AAMA,MAAA,KAAK,CAAC,eAAN,GAAwB,YAAY;AAChC,YAAI,KAAK,CAAC,iBAAV,EAA6B;AACzB,UAAA,KAAK,CAAC,iBAAN,CAAwB,WAAxB;;AACA,iBAAO,KAAK,CAAC,iBAAb;AACH;AACJ,OALD;;AAMAH,MAAAA,WAAS,CAAC,CAAC,CAAC,OAAO,CAAC,MAAX,EAAmB,0GAAnB,CAATA;AACA,MAAA,KAAK,CAAC,MAAN,GAAe,OAAO,CAAC,MAAvB;;AACA,MAAA,KAAK,CAAC,UAAN,CAAiB,KAAjB;;AACA,MAAA,KAAK,CAAC,KAAN,GAAc,KAAK,CAAC,eAAN,EAAd;AACA,aAAO,KAAP;AACH;;AACD,IAAA,YAAY,CAAC,SAAb,CAAuB,iBAAvB,GAA2C,YAAY;AACnD,WAAK,iBAAL;AACH,KAFD;;AAGA,IAAA,YAAY,CAAC,SAAb,CAAuB,yBAAvB,GAAmD,UAAU,SAAV,EAAqB,WAArB,EAAkC;AACjF,UAAIU,cAAY,CAAC,KAAK,KAAL,CAAW,SAAZ,EAAuB,SAAS,CAAC,SAAjC,CAAZA,IACA,KAAK,MAAL,KAAgB,WAAW,CAAC,MAD5BA,IAEA,KAAK,KAAL,CAAW,YAAX,KAA4B,SAAS,CAAC,YAF1C,EAEwD;AACpD;AACH;;AACD,UAAI,iBAAiB,GAAG,SAAS,CAAC,iBAAlC;;AACA,UAAI,OAAO,iBAAP,KAA6B,UAAjC,EAA6C;AACzC,QAAA,iBAAiB,GAAG,CAAC,CAAC,iBAAiB,CAAC,KAAK,KAAN,EAAa,SAAb,CAAvC;AACH;;AACD,UAAI,oBAAoB,GAAG,iBAAiB,KAAK,KAAjD;;AACA,UAAI,KAAK,MAAL,KAAgB,WAAW,CAAC,MAAhC,EAAwC;AACpC,aAAK,MAAL,GAAc,WAAW,CAAC,MAA1B;AACH;;AACD,UAAI,CAAC,oBAAL,EAA2B;AACvB,aAAK,eAAL;AACA,eAAO,KAAK,eAAZ;AACA,aAAK,UAAL,CAAgB,SAAhB;AACA,aAAK,iBAAL;AACA,aAAK,QAAL,CAAc,KAAK,eAAL,EAAd;AACA;AACH;;AACD,WAAK,UAAL,CAAgB,SAAhB;AACA,WAAK,iBAAL;AACH,KAxBD;;AAyBA,IAAA,YAAY,CAAC,SAAb,CAAuB,oBAAvB,GAA8C,YAAY;AACtD,WAAK,eAAL;AACH,KAFD;;AAGA,IAAA,YAAY,CAAC,SAAb,CAAuB,MAAvB,GAAgC,YAAY;AACxC,UAAI,MAAM,GAAG,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,KAAK,KAAvB,EAA8B;AACvC,QAAA,SAAS,EAAE,KAAK,KAAL,CAAW;AADiB,OAA9B,CAAb;AAGA,aAAO,KAAK,KAAL,CAAW,QAAX,CAAoB,MAApB,CAAP;AACH,KALD;;AAMA,IAAA,YAAY,CAAC,YAAb,GAA4B;AACxB,MAAA,MAAM,EAAEb,SAAAA,CAAAA,MAAAA,CAAiB;AADD,KAA5B;AAGA,IAAA,YAAY,CAAC,SAAb,GAAyB;AACrB,MAAA,YAAY,EAAEA,SAAAA,CAAAA,MAAAA,CAAiB,UADV;AAErB,MAAA,SAAS,EAAEA,SAAAA,CAAAA,MAFU;AAGrB,MAAA,QAAQ,EAAEC,SAAAA,CAAAA,IAAAA,CAAe,UAHJ;AAIrB,MAAA,iBAAiB,EAAEa,SAAAA,CAAAA,SAAAA,CAAoB,CAACb,SAAAA,CAAAA,IAAD,EAAiBQ,SAAAA,CAAAA,IAAjB,CAApBK;AAJE,KAAzB;AAMA,WAAO,YAAP;AACH,GAjGmB,CAiGlBH,KAAAA,CAAAA,SAjGkB,CAApB;;ACdA,MAAIL,WAAS,GAAIJ,SAAI,IAAIA,SAAI,CAAC,SAAd,IAA6B,YAAY;AACrD,QAAI,aAAa,GAAG,MAAM,CAAC,cAAP,IACf;AAAE,MAAA,SAAS,EAAE;AAAb,iBAA6B,KAA7B,IAAsC,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,MAAA,CAAC,CAAC,SAAF,GAAc,CAAd;AAAkB,KAD3D,IAEhB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,CAAC,CAAC,cAAF,CAAiB,CAAjB,CAAJ,EAAyB,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAO,UAAU,CAAV,EAAa,CAAb,EAAgB;AACnB,MAAA,aAAa,CAAC,CAAD,EAAI,CAAJ,CAAb;;AACA,eAAS,EAAT,GAAc;AAAE,aAAK,WAAL,GAAmB,CAAnB;AAAuB;;AACvC,MAAA,CAAC,CAAC,SAAF,GAAc,CAAC,KAAK,IAAN,GAAa,MAAM,CAAC,MAAP,CAAc,CAAd,CAAb,IAAiC,EAAE,CAAC,SAAH,GAAe,CAAC,CAAC,SAAjB,EAA4B,IAAI,EAAJ,EAA7D,CAAd;AACH,KAJD;AAKH,GAT2C,EAA5C;;AAWA,MAAIC,WAAS,GAAG,OAAO,CAAC,WAAD,CAAvB;;AAEO,MAAI,wBAAwB,GAAG,YAAY;AAAE,WAAQ,EAAR;AAAc,GAA3D;;AAEA,MAAI,qBAAqB,GAAG,YAAY;AAAE,WAAO,KAAP;AAAe,GAAzD;;AACA,WAAS,cAAT,CAAwB,gBAAxB,EAA0C;AAC7C,WAAO,gBAAgB,CAAC,WAAjB,IAAgC,gBAAgB,CAAC,IAAjD,IAAyD,WAAhE;AACH;;AACM,WAAS,2BAAT,CAAqC,SAArC,EAAgD,KAAhD,EAAuD,kBAAvD,EAA2E,WAA3E,EAAwF;AAC3F,QAAI,SAAS,GAAG,EAAhB;;AACA,SAAK,IAAI,EAAE,GAAG,CAAT,EAAY,EAAE,GAAG,SAAS,CAAC,SAAhC,EAA2C,EAAE,GAAG,EAAE,CAAC,MAAnD,EAA2D,EAAE,EAA7D,EAAiE;AAC7D,UAAI,EAAE,GAAG,EAAE,CAAC,EAAD,CAAX;AAAA,UAAiB,QAAQ,GAAG,EAAE,CAAC,QAA/B;AAAA,UAAyC,IAAI,GAAG,EAAE,CAAC,IAAnD;AACA,UAAI,CAAC,QAAQ,CAAC,IAAV,IAAkB,CAAC,QAAQ,CAAC,IAAT,CAAc,KAArC,EACI;AACJ,UAAI,YAAY,GAAG,QAAQ,CAAC,IAAT,CAAc,KAAjC;AACA,UAAI,YAAY,GAAG,KAAK,CAAC,YAAD,CAAxB;;AACA,UAAI,OAAO,YAAP,KAAwB,WAA5B,EAAyC;AACrC,QAAA,SAAS,CAAC,YAAD,CAAT,GAA0B,YAA1B;AACA;AACH;;AACD,UAAI,IAAI,CAAC,IAAL,KAAc,aAAlB,EAAiC;AAC7B,QAAA,SAAS,CAAC,YAAD,CAAT,GAA0B,IAA1B;AACA;AACH;;AACD,UAAI,SAAS,CAAC,IAAV,KAAmB,YAAY,CAAC,QAApC,EACI;AACJA,MAAAA,WAAS,CAAC,OAAO,YAAP,KAAwB,WAAzB,EAAsC,oBAAoB,SAAS,CAAC,IAA9B,GAAqC,cAArC,GAAsD,WAAtD,GAAoE,IAApE,IAC1C,+BAA+B,QAAQ,CAAC,IAAT,CAAc,KAA7C,GAAqD,sCADX,KAE1C,gBAAgB,kBAAhB,GAAqC,GAFK,CAAtC,CAATA;AAGH;;AACD,WAAO,SAAP;AACH;;AACD,MAAI,WAAW,GAAI,UAAU,MAAV,EAAkB;AACjCG,IAAAA,WAAS,CAAC,WAAD,EAAc,MAAd,CAATA;;AACA,aAAS,WAAT,CAAqB,KAArB,EAA4B;AACxB,UAAI,KAAK,GAAG,MAAM,CAAC,IAAP,CAAY,IAAZ,EAAkB,KAAlB,KAA4B,IAAxC;;AACA,MAAA,KAAK,CAAC,OAAN,GAAgB,KAAhB;AACA,MAAA,KAAK,CAAC,kBAAN,GAA2B,KAAK,CAAC,kBAAN,CAAyB,IAAzB,CAA8B,KAA9B,CAA3B;AACA,aAAO,KAAP;AACH;;AACD,IAAA,WAAW,CAAC,SAAZ,CAAsB,kBAAtB,GAA2C,YAAY;AACnDH,MAAAA,WAAS,CAAC,KAAK,OAAN,EAAe,yDAAyD,kCAAxE,CAATA;AACA,aAAO,KAAK,eAAZ;AACH,KAHD;;AAIA,IAAA,WAAW,CAAC,SAAZ,CAAsB,kBAAtB,GAA2C,UAAU,GAAV,EAAe;AACtD,WAAK,eAAL,GAAuB,GAAvB;AACH,KAFD;;AAGA,WAAO,WAAP;AACH,GAhBkB,CAgBjBQ,KAAAA,CAAAA,SAhBiB,CAAnB;;AC3CA,MAAIL,WAAS,GAAIJ,SAAI,IAAIA,SAAI,CAAC,SAAd,IAA6B,YAAY;AACrD,QAAI,aAAa,GAAG,MAAM,CAAC,cAAP,IACf;AAAE,MAAA,SAAS,EAAE;AAAb,iBAA6B,KAA7B,IAAsC,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,MAAA,CAAC,CAAC,SAAF,GAAc,CAAd;AAAkB,KAD3D,IAEhB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,CAAC,CAAC,cAAF,CAAiB,CAAjB,CAAJ,EAAyB,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAO,UAAU,CAAV,EAAa,CAAb,EAAgB;AACnB,MAAA,aAAa,CAAC,CAAD,EAAI,CAAJ,CAAb;;AACA,eAAS,EAAT,GAAc;AAAE,aAAK,WAAL,GAAmB,CAAnB;AAAuB;;AACvC,MAAA,CAAC,CAAC,SAAF,GAAc,CAAC,KAAK,IAAN,GAAa,MAAM,CAAC,MAAP,CAAc,CAAd,CAAb,IAAiC,EAAE,CAAC,SAAH,GAAe,CAAC,CAAC,SAAjB,EAA4B,IAAI,EAAJ,EAA7D,CAAd;AACH,KAJD;AAKH,GAT2C,EAA5C;;AAUA,MAAIU,UAAQ,GAAIV,SAAI,IAAIA,SAAI,CAAC,QAAd,IAA2B,MAAM,CAAC,MAAlC,IAA4C,UAAS,CAAT,EAAY;AACnE,SAAK,IAAI,CAAJ,EAAO,CAAC,GAAG,CAAX,EAAc,CAAC,GAAG,SAAS,CAAC,MAAjC,EAAyC,CAAC,GAAG,CAA7C,EAAgD,CAAC,EAAjD,EAAqD;AACjD,MAAA,CAAC,GAAG,SAAS,CAAC,CAAD,CAAb;;AACA,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,CAArC,EAAwC,CAAxC,CAAJ,EACb,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AACP;;AACD,WAAO,CAAP;AACH,GAPD;;AAQA,MAAIc,QAAM,GAAId,SAAI,IAAIA,SAAI,CAAC,MAAd,IAAyB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAClD,QAAI,CAAC,GAAG,EAAR;;AACA,SAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,CAArC,EAAwC,CAAxC,KAA8C,CAAC,CAAC,OAAF,CAAU,CAAV,IAAe,CAAjE,EACb,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;;AACJ,QAAI,CAAC,IAAI,IAAL,IAAa,OAAO,MAAM,CAAC,qBAAd,KAAwC,UAAzD,EACI,KAAK,IAAI,CAAC,GAAG,CAAR,EAAW,CAAC,GAAG,MAAM,CAAC,qBAAP,CAA6B,CAA7B,CAApB,EAAqD,CAAC,GAAG,CAAC,CAAC,MAA3D,EAAmE,CAAC,EAApE,EAAwE,IAAI,CAAC,CAAC,OAAF,CAAU,CAAC,CAAC,CAAD,CAAX,IAAkB,CAAtB,EACpE,CAAC,CAAC,CAAC,CAAC,CAAD,CAAF,CAAD,GAAU,CAAC,CAAC,CAAC,CAAC,CAAD,CAAF,CAAX;AACR,WAAO,CAAP;AACH,GARD;;AAUA,MAAI,oBAAoB,GAAG,OAAO,CAAC,yBAAD,CAAlC;;AAIO,WAAS,KAAT,CAAe,QAAf,EAAyB,gBAAzB,EAA2C;AAC9C,QAAI,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAAE,MAAA,gBAAgB,GAAG,EAAnB;AAAwB;;AAC3D,QAAI,SAAS,GAAG,MAAM,CAAC,QAAD,CAAtB;AACA,QAAI,EAAE,GAAG,gBAAgB,CAAC,OAA1B;AAAA,QAAmC,OAAO,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,wBAAhB,GAA2C,EAAxF;AAAA,QAA4F,EAAE,GAAG,gBAAgB,CAAC,IAAlH;AAAA,QAAwH,IAAI,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,qBAAhB,GAAwC,EAAvK;AAAA,QAA2K,EAAE,GAAG,gBAAgB,CAAC,KAAjM;AAAA,QAAwM,KAAK,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,QAAhB,GAA2B,EAA3O;AACA,QAAI,iBAAiB,GAAG,OAAxB;AACA,QAAI,OAAO,iBAAP,KAA6B,UAAjC,EACI,iBAAiB,GAAG,YAAY;AAAE,aAAO,OAAP;AAAiB,KAAnD;AACJ,QAAI,cAAc,GAAG,IAArB;AACA,QAAI,OAAO,cAAP,KAA0B,UAA9B,EACI,cAAc,GAAG,YAAY;AAAE,aAAO,IAAP;AAAc,KAA7C;AACJ,QAAI,eAAJ;AACA,WAAO,UAAU,gBAAV,EAA4B;AAC/B,UAAI,kBAAkB,GAAG,KAAK,GAAG,GAAR,GAAc,cAAc,CAAC,gBAAD,CAA5B,GAAiD,GAA1E;;AACA,UAAI,OAAO,GAAI,UAAU,MAAV,EAAkB;AAC7BI,QAAAA,WAAS,CAAC,OAAD,EAAU,MAAV,CAATA;;AACA,iBAAS,OAAT,GAAmB;AACf,iBAAO,MAAM,KAAK,IAAX,IAAmB,MAAM,CAAC,KAAP,CAAa,IAAb,EAAmB,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD,QAAA,OAAO,CAAC,SAAR,CAAkB,MAAlB,GAA2B,YAAY;AACnC,cAAI,KAAK,GAAG,IAAZ;;AACA,cAAI,KAAK,GAAG,KAAK,KAAjB;AACA,cAAI,UAAU,GAAG,cAAc,CAAC,KAAD,CAA/B;AACA,cAAI,IAAI,GAAG,UAAU,GAAG,MAAM,CAAC,MAAP,CAAc,IAAd,CAAH,GAAyB,iBAAiB,CAAC,KAAD,CAA/D;;AACA,cAAI,CAAC,UAAD,IAAe,CAAC,IAAI,CAAC,SAArB,IAAkC,SAAS,CAAC,SAAV,CAAoB,MAApB,GAA6B,CAAnE,EAAsE;AAClE,YAAA,IAAI,CAAC,SAAL,GAAiB,2BAA2B,CAAC,SAAD,EAAY,KAAZ,EAAmB,kBAAnB,EAAuC,cAAc,CAAC,gBAAD,CAArD,CAA5C;AACH;;AACD,iBAAQW,KAAAA,CAAAA,aAAAA,CAAoB,KAApBA,EAA2BL,UAAQ,CAAC,EAAD,EAAK,IAAL,EAAW;AAAE,YAAA,WAAW,EAAE,kBAAf;AAAmC,YAAA,IAAI,EAAE,UAAzC;AAAqD,YAAA,KAAK,EAAE,QAA5D;AAAsE,YAAA,kBAAkB,EAAE;AAA1F,WAAX,CAAnCK,EAAiJ,UAAU,EAAV,EAAc;AACnK,gBAAI,CAAC,GAAG,EAAE,CAAC,MAAX;AAAA,gBAAmB,IAAI,GAAG,EAAE,CAAC,IAA7B;AAAA,gBAAmC,CAAC,GAAGD,QAAM,CAAC,EAAD,EAAK,CAAC,QAAD,EAAW,MAAX,CAAL,CAA7C;;AACA,gBAAI,EAAJ,EAAQ,EAAR;;AACA,gBAAI,gBAAgB,CAAC,OAArB,EAA8B;AAC1B,cAAA,KAAK,CAAC,OAAN,GAAgB,IAAhB;AACA,cAAA,KAAK,GAAG,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,KAAlB,EAAyB;AAC7B,gBAAA,GAAG,EAAE,KAAK,CAAC;AADkB,eAAzB,CAAR;AAGH;;AACD,gBAAI,UAAJ,EACI,OAAOC,KAAAA,CAAAA,aAAAA,CAAoB,gBAApBA,EAAsCL,UAAQ,CAAC,EAAD,EAAK,KAAL,CAA9CK,CAAP;AACJ,gBAAI,MAAM,GAAG,MAAM,CAAC,MAAP,CAAc,CAAd,EAAiB,IAAI,IAAI,EAAzB,CAAb;AACA,gBAAI,IAAI,GAAG,gBAAgB,CAAC,IAAjB,IAAyB,MAApC;AACA,gBAAI,UAAU,IAAI,EAAE,GAAG,EAAL,EAAS,EAAE,CAAC,IAAD,CAAF,GAAW,MAApB,EAA4B,EAAhC,CAAd;;AACA,gBAAI,gBAAgB,CAAC,KAArB,EAA4B;AACxB,kBAAI,SAAS,IAAI,EAAE,GAAG,EAAL,EACb,EAAE,CAAC,IAAD,CAAF,GAAW,MADE,EAEb,EAAE,CAAC,QAAH,GAAc,KAFD,EAGb,EAHS,CAAb;AAIA,cAAA,eAAe,GAAG,gBAAgB,CAAC,KAAjB,CAAuB,SAAvB,EAAkC,eAAlC,CAAlB;AACA,cAAA,UAAU,GAAG,eAAb;AACH;;AACD,mBAAOA,KAAAA,CAAAA,aAAAA,CAAoB,gBAApBA,EAAsCL,UAAQ,CAAC,EAAD,EAAK,KAAL,EAAY,UAAZ,CAA9CK,CAAP;AACH,WAvBOA,CAAR;AAwBH,SAhCD;;AAiCA,QAAA,OAAO,CAAC,WAAR,GAAsB,kBAAtB;AACA,QAAA,OAAO,CAAC,gBAAR,GAA2B,gBAA3B;AACA,eAAO,OAAP;AACH,OAzCc,CAyCb,WAzCa,CAAf;;AA0CA,aAAO,oBAAoB,CAAC,OAAD,EAAU,gBAAV,EAA4B,EAA5B,CAA3B;AACH,KA7CD;AA8CH;;ACzFD,MAAIX,WAAS,GAAIJ,SAAI,IAAIA,SAAI,CAAC,SAAd,IAA6B,YAAY;AACrD,QAAI,aAAa,GAAG,MAAM,CAAC,cAAP,IACf;AAAE,MAAA,SAAS,EAAE;AAAb,iBAA6B,KAA7B,IAAsC,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,MAAA,CAAC,CAAC,SAAF,GAAc,CAAd;AAAkB,KAD3D,IAEhB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,CAAC,CAAC,cAAF,CAAiB,CAAjB,CAAJ,EAAyB,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAO,UAAU,CAAV,EAAa,CAAb,EAAgB;AACnB,MAAA,aAAa,CAAC,CAAD,EAAI,CAAJ,CAAb;;AACA,eAAS,EAAT,GAAc;AAAE,aAAK,WAAL,GAAmB,CAAnB;AAAuB;;AACvC,MAAA,CAAC,CAAC,SAAF,GAAc,CAAC,KAAK,IAAN,GAAa,MAAM,CAAC,MAAP,CAAc,CAAd,CAAb,IAAiC,EAAE,CAAC,SAAH,GAAe,CAAC,CAAC,SAAjB,EAA4B,IAAI,EAAJ,EAA7D,CAAd;AACH,KAJD;AAKH,GAT2C,EAA5C;;AAUA,MAAIU,UAAQ,GAAIV,SAAI,IAAIA,SAAI,CAAC,QAAd,IAA2B,MAAM,CAAC,MAAlC,IAA4C,UAAS,CAAT,EAAY;AACnE,SAAK,IAAI,CAAJ,EAAO,CAAC,GAAG,CAAX,EAAc,CAAC,GAAG,SAAS,CAAC,MAAjC,EAAyC,CAAC,GAAG,CAA7C,EAAgD,CAAC,EAAjD,EAAqD;AACjD,MAAA,CAAC,GAAG,SAAS,CAAC,CAAD,CAAb;;AACA,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,CAArC,EAAwC,CAAxC,CAAJ,EACb,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AACP;;AACD,WAAO,CAAP;AACH,GAPD;;AASA,MAAIgB,sBAAoB,GAAG,OAAO,CAAC,yBAAD,CAAlC;;AAIO,WAAS,QAAT,CAAkB,QAAlB,EAA4B,gBAA5B,EAA8C;AACjD,QAAI,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAAE,MAAA,gBAAgB,GAAG,EAAnB;AAAwB;;AAC3D,QAAI,SAAS,GAAG,MAAM,CAAC,QAAD,CAAtB;AACA,QAAI,EAAE,GAAG,gBAAgB,CAAC,OAA1B;AAAA,QAAmC,OAAO,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,wBAAhB,GAA2C,EAAxF;AAAA,QAA4F,EAAE,GAAG,gBAAgB,CAAC,KAAlH;AAAA,QAAyH,KAAK,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,QAAhB,GAA2B,EAA5J;AACA,QAAI,iBAAiB,GAAG,OAAxB;AACA,QAAI,OAAO,iBAAP,KAA6B,UAAjC,EACI,iBAAiB,GAAG,YAAY;AAAE,aAAO,OAAP;AAAiB,KAAnD;AACJ,WAAO,UAAU,gBAAV,EAA4B;AAC/B,UAAI,kBAAkB,GAAG,KAAK,GAAG,GAAR,GAAc,cAAc,CAAC,gBAAD,CAA5B,GAAiD,GAA1E;;AACA,UAAI,OAAO,GAAI,UAAU,MAAV,EAAkB;AAC7BZ,QAAAA,WAAS,CAAC,OAAD,EAAU,MAAV,CAATA;;AACA,iBAAS,OAAT,GAAmB;AACf,iBAAO,MAAM,KAAK,IAAX,IAAmB,MAAM,CAAC,KAAP,CAAa,IAAb,EAAmB,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD,QAAA,OAAO,CAAC,SAAR,CAAkB,MAAlB,GAA2B,YAAY;AACnC,cAAI,KAAK,GAAG,KAAK,KAAjB;AACA,cAAI,IAAI,GAAG,iBAAiB,CAAC,KAAD,CAA5B;;AACA,cAAI,gBAAgB,CAAC,OAArB,EAA8B;AAC1B,iBAAK,OAAL,GAAe,IAAf;AACA,YAAA,KAAK,GAAG,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,KAAlB,EAAyB;AAC7B,cAAA,GAAG,EAAE,KAAK;AADmB,aAAzB,CAAR;AAGH;;AACD,cAAI,CAAC,IAAI,CAAC,SAAN,IAAmB,SAAS,CAAC,SAAV,CAAoB,MAApB,GAA6B,CAApD,EAAuD;AACnD,YAAA,IAAI,CAAC,SAAL,GAAiB,2BAA2B,CAAC,SAAD,EAAY,KAAZ,EAAmB,kBAAnB,EAAuC,cAAc,CAAC,gBAAD,CAArD,CAA5C;AACH;;AACD,iBAAQW,KAAAA,CAAAA,aAAAA,CAAoB,QAApBA,EAA8BL,UAAQ,CAAC,EAAD,EAAK,IAAL,EAAW;AAAE,YAAA,QAAQ,EAAE,QAAZ;AAAsB,YAAA,aAAa,EAAE;AAArC,WAAX,CAAtCK,EAA+F,UAAU,MAAV,EAAkB,OAAlB,EAA2B;AAC9H,gBAAI,EAAJ,EAAQ,EAAR;;AACA,gBAAI,IAAI,GAAG,gBAAgB,CAAC,IAAjB,IAAyB,QAApC;AACA,gBAAI,UAAU,IAAI,EAAE,GAAG,EAAL,EAAS,EAAE,CAAC,IAAD,CAAF,GAAW,MAApB,EAA4B,EAAhC,CAAd;;AACA,gBAAI,gBAAgB,CAAC,KAArB,EAA4B;AACxB,kBAAI,SAAS,IAAI,EAAE,GAAG,EAAL,EACb,EAAE,CAAC,IAAD,CAAF,GAAW,MADE,EAEb,EAAE,CAAC,QAAH,GAAc,KAFD,EAGb,EAHS,CAAb;AAIA,cAAA,UAAU,GAAG,gBAAgB,CAAC,KAAjB,CAAuB,SAAvB,CAAb;AACH;;AACD,mBAAOA,KAAAA,CAAAA,aAAAA,CAAoB,gBAApBA,EAAsCL,UAAQ,CAAC,EAAD,EAAK,KAAL,EAAY,UAAZ,CAA9CK,CAAP;AACH,WAZOA,CAAR;AAaH,SAzBD;;AA0BA,QAAA,OAAO,CAAC,WAAR,GAAsB,kBAAtB;AACA,QAAA,OAAO,CAAC,gBAAR,GAA2B,gBAA3B;AACA,eAAO,OAAP;AACH,OAlCc,CAkCb,WAlCa,CAAf;;AAmCA,aAAOC,sBAAoB,CAAC,OAAD,EAAU,gBAAV,EAA4B,EAA5B,CAA3B;AACH,KAtCD;AAuCH;;ACrED,MAAIZ,WAAS,GAAIJ,SAAI,IAAIA,SAAI,CAAC,SAAd,IAA6B,YAAY;AACrD,QAAI,aAAa,GAAG,MAAM,CAAC,cAAP,IACf;AAAE,MAAA,SAAS,EAAE;AAAb,iBAA6B,KAA7B,IAAsC,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,MAAA,CAAC,CAAC,SAAF,GAAc,CAAd;AAAkB,KAD3D,IAEhB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,CAAC,CAAC,cAAF,CAAiB,CAAjB,CAAJ,EAAyB,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAO,UAAU,CAAV,EAAa,CAAb,EAAgB;AACnB,MAAA,aAAa,CAAC,CAAD,EAAI,CAAJ,CAAb;;AACA,eAAS,EAAT,GAAc;AAAE,aAAK,WAAL,GAAmB,CAAnB;AAAuB;;AACvC,MAAA,CAAC,CAAC,SAAF,GAAc,CAAC,KAAK,IAAN,GAAa,MAAM,CAAC,MAAP,CAAc,CAAd,CAAb,IAAiC,EAAE,CAAC,SAAH,GAAe,CAAC,CAAC,SAAjB,EAA4B,IAAI,EAAJ,EAA7D,CAAd;AACH,KAJD;AAKH,GAT2C,EAA5C;;AAUA,MAAIU,UAAQ,GAAIV,SAAI,IAAIA,SAAI,CAAC,QAAd,IAA2B,MAAM,CAAC,MAAlC,IAA4C,UAAS,CAAT,EAAY;AACnE,SAAK,IAAI,CAAJ,EAAO,CAAC,GAAG,CAAX,EAAc,CAAC,GAAG,SAAS,CAAC,MAAjC,EAAyC,CAAC,GAAG,CAA7C,EAAgD,CAAC,EAAjD,EAAqD;AACjD,MAAA,CAAC,GAAG,SAAS,CAAC,CAAD,CAAb;;AACA,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,CAArC,EAAwC,CAAxC,CAAJ,EACb,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AACP;;AACD,WAAO,CAAP;AACH,GAPD;;AAQA,MAAIc,QAAM,GAAId,SAAI,IAAIA,SAAI,CAAC,MAAd,IAAyB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAClD,QAAI,CAAC,GAAG,EAAR;;AACA,SAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,CAArC,EAAwC,CAAxC,KAA8C,CAAC,CAAC,OAAF,CAAU,CAAV,IAAe,CAAjE,EACb,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;;AACJ,QAAI,CAAC,IAAI,IAAL,IAAa,OAAO,MAAM,CAAC,qBAAd,KAAwC,UAAzD,EACI,KAAK,IAAI,CAAC,GAAG,CAAR,EAAW,CAAC,GAAG,MAAM,CAAC,qBAAP,CAA6B,CAA7B,CAApB,EAAqD,CAAC,GAAG,CAAC,CAAC,MAA3D,EAAmE,CAAC,EAApE,EAAwE,IAAI,CAAC,CAAC,OAAF,CAAU,CAAC,CAAC,CAAD,CAAX,IAAkB,CAAtB,EACpE,CAAC,CAAC,CAAC,CAAC,CAAD,CAAF,CAAD,GAAU,CAAC,CAAC,CAAC,CAAC,CAAD,CAAF,CAAX;AACR,WAAO,CAAP;AACH,GARD;;AAUA,MAAIgB,sBAAoB,GAAG,OAAO,CAAC,yBAAD,CAAlC;;AAIO,WAAS,SAAT,CAAmB,QAAnB,EAA6B,gBAA7B,EAA+C;AAClD,QAAI,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAAE,MAAA,gBAAgB,GAAG,EAAnB;AAAwB;;AAC3D,QAAI,SAAS,GAAG,MAAM,CAAC,QAAD,CAAtB;AACA,QAAI,EAAE,GAAG,gBAAgB,CAAC,OAA1B;AAAA,QAAmC,OAAO,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,wBAAhB,GAA2C,EAAxF;AAAA,QAA4F,EAAE,GAAG,gBAAgB,CAAC,IAAlH;AAAA,QAAwH,IAAI,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,qBAAhB,GAAwC,EAAvK;AAAA,QAA2K,EAAE,GAAG,gBAAgB,CAAC,KAAjM;AAAA,QAAwM,KAAK,GAAG,EAAE,KAAK,KAAK,CAAZ,GAAgB,QAAhB,GAA2B,EAA3O;AAAA,QAA+O,iBAAiB,GAAG,gBAAgB,CAAC,iBAApR;AACA,QAAI,iBAAiB,GAAG,OAAxB;AACA,QAAI,OAAO,iBAAP,KAA6B,UAAjC,EACI,iBAAiB,GAAG,YAAY;AAAE,aAAO,OAAP;AAAiB,KAAnD;AACJ,QAAI,cAAc,GAAG,IAArB;AACA,QAAI,OAAO,cAAP,KAA0B,UAA9B,EACI,cAAc,GAAG,YAAY;AAAE,aAAO,IAAP;AAAc,KAA7C;AACJ,QAAI,eAAJ;AACA,WAAO,UAAU,gBAAV,EAA4B;AAC/B,UAAI,kBAAkB,GAAG,KAAK,GAAG,GAAR,GAAc,cAAc,CAAC,gBAAD,CAA5B,GAAiD,GAA1E;;AACA,UAAI,OAAO,GAAI,UAAU,MAAV,EAAkB;AAC7BZ,QAAAA,WAAS,CAAC,OAAD,EAAU,MAAV,CAATA;;AACA,iBAAS,OAAT,CAAiB,KAAjB,EAAwB;AACpB,cAAI,KAAK,GAAG,MAAM,CAAC,IAAP,CAAY,IAAZ,EAAkB,KAAlB,KAA4B,IAAxC;;AACA,UAAA,KAAK,CAAC,KAAN,GAAc;AAAE,YAAA,WAAW,EAAE;AAAf,WAAd;AACA,iBAAO,KAAP;AACH;;AACD,QAAA,OAAO,CAAC,SAAR,CAAkB,yBAAlB,GAA8C,UAAU,SAAV,EAAqB;AAC/D,cAAI,CAAC,iBAAL,EACI;AACJ,eAAK,QAAL,CAAc;AACV,YAAA,WAAW,EAAE,iBAAiB,CAAC,KAAK,KAAN,EAAa,SAAb;AADpB,WAAd;AAGH,SAND;;AAOA,QAAA,OAAO,CAAC,SAAR,CAAkB,MAAlB,GAA2B,YAAY;AACnC,cAAI,KAAK,GAAG,IAAZ;;AACA,cAAI,KAAK,GAAG,KAAK,KAAjB;AACA,cAAI,UAAU,GAAG,cAAc,CAAC,KAAD,CAA/B;AACA,cAAI,IAAI,GAAG,UAAU,GAAG,MAAM,CAAC,MAAP,CAAc,IAAd,CAAH,GAAyB,iBAAiB,CAAC,KAAD,CAA/D;;AACA,cAAI,CAAC,UAAD,IAAe,CAAC,IAAI,CAAC,SAArB,IAAkC,SAAS,CAAC,SAAV,CAAoB,MAApB,GAA6B,CAAnE,EAAsE;AAClE,YAAA,IAAI,CAAC,SAAL,GAAiB,2BAA2B,CAAC,SAAD,EAAY,KAAZ,EAAmB,kBAAnB,EAAuC,cAAc,CAAC,gBAAD,CAArD,CAA5C;AACH;;AACD,iBAAQW,KAAAA,CAAAA,aAAAA,CAAoB,YAApBA,EAAkCL,UAAQ,CAAC,EAAD,EAAK,IAAL,EAAW;AAAE,YAAA,WAAW,EAAE,kBAAf;AAAmC,YAAA,IAAI,EAAE,UAAzC;AAAqD,YAAA,YAAY,EAAE,QAAnE;AAA6E,YAAA,iBAAiB,EAAE,KAAK,KAAL,CAAW;AAA3G,WAAX,CAA1CK,EAAgL,UAAU,EAAV,EAAc;AAClM,gBAAI,IAAI,GAAG,EAAE,CAAC,IAAd;AAAA,gBAAoB,CAAC,GAAGD,QAAM,CAAC,EAAD,EAAK,CAAC,MAAD,CAAL,CAA9B;;AACA,gBAAI,EAAJ,EAAQ,EAAR;;AACA,gBAAI,gBAAgB,CAAC,OAArB,EAA8B;AAC1B,cAAA,KAAK,CAAC,OAAN,GAAgB,IAAhB;AACA,cAAA,KAAK,GAAG,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,KAAlB,EAAyB;AAC7B,gBAAA,GAAG,EAAE,KAAK,CAAC;AADkB,eAAzB,CAAR;AAGH;;AACD,gBAAI,UAAJ,EACI,OAAOC,KAAAA,CAAAA,aAAAA,CAAoB,gBAApBA,EAAsCL,UAAQ,CAAC,EAAD,EAAK,KAAL,CAA9CK,CAAP;AACJ,gBAAI,MAAM,GAAG,MAAM,CAAC,MAAP,CAAc,CAAd,EAAiB,IAAI,IAAI,EAAzB,CAAb;AACA,gBAAI,IAAI,GAAG,gBAAgB,CAAC,IAAjB,IAAyB,MAApC;AACA,gBAAI,UAAU,IAAI,EAAE,GAAG,EAAL,EAAS,EAAE,CAAC,IAAD,CAAF,GAAW,MAApB,EAA4B,EAAhC,CAAd;;AACA,gBAAI,gBAAgB,CAAC,KAArB,EAA4B;AACxB,kBAAI,SAAS,IAAI,EAAE,GAAG,EAAL,EACb,EAAE,CAAC,IAAD,CAAF,GAAW,MADE,EAEb,EAAE,CAAC,QAAH,GAAc,KAFD,EAGb,EAHS,CAAb;AAIA,cAAA,eAAe,GAAG,gBAAgB,CAAC,KAAjB,CAAuB,SAAvB,EAAkC,eAAlC,CAAlB;AACA,cAAA,UAAU,GAAG,eAAb;AACH;;AACD,mBAAOA,KAAAA,CAAAA,aAAAA,CAAoB,gBAApBA,EAAsCL,UAAQ,CAAC,EAAD,EAAK,KAAL,EAAY,UAAZ,CAA9CK,CAAP;AACH,WAvBOA,CAAR;AAwBH,SAhCD;;AAiCA,QAAA,OAAO,CAAC,WAAR,GAAsB,kBAAtB;AACA,QAAA,OAAO,CAAC,gBAAR,GAA2B,gBAA3B;AACA,eAAO,OAAP;AACH,OAlDc,CAkDb,WAlDa,CAAf;;AAmDA,aAAOC,sBAAoB,CAAC,OAAD,EAAU,gBAAV,EAA4B,EAA5B,CAA3B;AACH,KAtDD;AAuDH;;AC9FM,WAAS,OAAT,CAAiB,QAAjB,EAA2B,gBAA3B,EAA6C;AAChD,QAAI,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAAE,MAAA,gBAAgB,GAAG,EAAnB;AAAwB;;AAC3D,YAAQ,MAAM,CAAC,QAAD,CAAN,CAAiB,IAAzB;AACI,WAAK,YAAY,CAAC,QAAlB;AACI,eAAO,QAAQ,CAAC,QAAD,EAAW,gBAAX,CAAf;;AACJ,WAAK,YAAY,CAAC,YAAlB;AACI,eAAO,SAAS,CAAC,QAAD,EAAW,gBAAX,CAAhB;;AACJ,WAAK,YAAY,CAAC,KAAlB;AACA;AACI,eAAO,KAAK,CAAC,QAAD,EAAW,gBAAX,CAAZ;AAPR;AASH;;ACfD,MAAIZ,WAAS,GAAIJ,SAAI,IAAIA,SAAI,CAAC,SAAd,IAA6B,YAAY;AACrD,QAAI,aAAa,GAAG,MAAM,CAAC,cAAP,IACf;AAAE,MAAA,SAAS,EAAE;AAAb,iBAA6B,KAA7B,IAAsC,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,MAAA,CAAC,CAAC,SAAF,GAAc,CAAd;AAAkB,KAD3D,IAEhB,UAAU,CAAV,EAAa,CAAb,EAAgB;AAAE,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,CAAC,CAAC,cAAF,CAAiB,CAAjB,CAAJ,EAAyB,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAO,UAAU,CAAV,EAAa,CAAb,EAAgB;AACnB,MAAA,aAAa,CAAC,CAAD,EAAI,CAAJ,CAAb;;AACA,eAAS,EAAT,GAAc;AAAE,aAAK,WAAL,GAAmB,CAAnB;AAAuB;;AACvC,MAAA,CAAC,CAAC,SAAF,GAAc,CAAC,KAAK,IAAN,GAAa,MAAM,CAAC,MAAP,CAAc,CAAd,CAAb,IAAiC,EAAE,CAAC,SAAH,GAAe,CAAC,CAAC,SAAjB,EAA4B,IAAI,EAAJ,EAA7D,CAAd;AACH,KAJD;AAKH,GAT2C,EAA5C;;AAUA,MAAIU,UAAQ,GAAIV,SAAI,IAAIA,SAAI,CAAC,QAAd,IAA2B,MAAM,CAAC,MAAlC,IAA4C,UAAS,CAAT,EAAY;AACnE,SAAK,IAAI,CAAJ,EAAO,CAAC,GAAG,CAAX,EAAc,CAAC,GAAG,SAAS,CAAC,MAAjC,EAAyC,CAAC,GAAG,CAA7C,EAAgD,CAAC,EAAjD,EAAqD;AACjD,MAAA,CAAC,GAAG,SAAS,CAAC,CAAD,CAAb;;AACA,WAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,CAArC,EAAwC,CAAxC,CAAJ,EACb,CAAC,CAAC,CAAD,CAAD,GAAO,CAAC,CAAC,CAAD,CAAR;AACP;;AACD,WAAO,CAAP;AACH,GAPD;;AAUA,MAAIC,WAAS,GAAG,OAAO,CAAC,WAAD,CAAvB;;AACA,MAAIe,sBAAoB,GAAG,OAAO,CAAC,yBAAD,CAAlC;;AACA,WAASC,gBAAT,CAAwB,gBAAxB,EAA0C;AACtC,WAAO,gBAAgB,CAAC,WAAjB,IAAgC,gBAAgB,CAAC,IAAjD,IAAyD,WAAhE;AACH;;AACc,WAAS,UAAT,CAAoB,gBAApB,EAAsC,gBAAtC,EAAwD;AACnE,QAAI,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAAE,MAAA,gBAAgB,GAAG,EAAnB;AAAwB;;AAC3D,QAAI,eAAe,GAAG,gBAAgBA,gBAAc,CAAC,gBAAD,CAA9B,GAAmD,GAAzE;;AACA,QAAI,UAAU,GAAI,UAAU,MAAV,EAAkB;AAChCb,MAAAA,WAAS,CAAC,UAAD,EAAa,MAAb,CAATA;;AACA,eAAS,UAAT,CAAoB,KAApB,EAA2B;AACvB,YAAI,KAAK,GAAG,MAAM,CAAC,IAAP,CAAY,IAAZ,EAAkB,KAAlB,KAA4B,IAAxC;;AACA,QAAA,KAAK,CAAC,kBAAN,GAA2B,KAAK,CAAC,kBAAN,CAAyB,IAAzB,CAA8B,KAA9B,CAA3B;AACA,eAAO,KAAP;AACH;;AACD,MAAA,UAAU,CAAC,SAAX,CAAqB,kBAArB,GAA0C,YAAY;AAClDH,QAAAA,WAAS,CAAC,gBAAgB,CAAC,OAAlB,EAA2B,yDAAyD,kCAApF,CAATA;AACA,eAAO,KAAK,eAAZ;AACH,OAHD;;AAIA,MAAA,UAAU,CAAC,SAAX,CAAqB,kBAArB,GAA0C,UAAU,GAAV,EAAe;AACrD,aAAK,eAAL,GAAuB,GAAvB;AACH,OAFD;;AAGA,MAAA,UAAU,CAAC,SAAX,CAAqB,MAArB,GAA8B,YAAY;AACtC,YAAI,KAAK,GAAG,IAAZ;;AACA,eAAQc,KAAAA,CAAAA,aAAAA,CAAoB,cAApBA,EAAoC,IAApCA,EAA0C,UAAU,MAAV,EAAkB;AAChE,cAAI,KAAK,GAAG,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,KAAK,CAAC,KAAxB,EAA+B;AACvC,YAAA,MAAM,EAAE,MAD+B;AAEvC,YAAA,GAAG,EAAE,gBAAgB,CAAC,OAAjB,GAA2B,KAAK,CAAC,kBAAjC,GAAsD;AAFpB,WAA/B,CAAZ;AAIA,iBAAOA,KAAAA,CAAAA,aAAAA,CAAoB,gBAApBA,EAAsCL,UAAQ,CAAC,EAAD,EAAK,KAAL,CAA9CK,CAAP;AACH,SANOA,CAAR;AAOH,OATD;;AAUA,MAAA,UAAU,CAAC,WAAX,GAAyB,eAAzB;AACA,MAAA,UAAU,CAAC,gBAAX,GAA8B,gBAA9B;AACA,aAAO,UAAP;AACH,KA3BiB,CA2BhBN,KAAAA,CAAAA,SA3BgB,CAAlB;;AA4BA,WAAOO,sBAAoB,CAAC,UAAD,EAAa,gBAAb,EAA+B,EAA/B,CAA3B;AACH;;AC1CE,MAAC,OAAO,GAAG,OAAO,CAAC,kBAAD,CAAlB","sourcesContent":["import * as React from 'react';\nfunction getProps(element) {\n    return element.props || element.attributes;\n}\nfunction isReactElement(element) {\n    return !!element.type;\n}\nfunction isComponentClass(Comp) {\n    return Comp.prototype && (Comp.prototype.render || Comp.prototype.isReactComponent);\n}\nfunction providesChildContext(instance) {\n    return !!instance.getChildContext;\n}\nexport function walkTree(element, context, visitor) {\n    if (Array.isArray(element)) {\n        element.forEach(function (item) { return walkTree(item, context, visitor); });\n        return;\n    }\n    if (!element) {\n        return;\n    }\n    if (isReactElement(element)) {\n        if (typeof element.type === 'function') {\n            var Comp = element.type;\n            var props = Object.assign({}, Comp.defaultProps, getProps(element));\n            var childContext_1 = context;\n            var child = void 0;\n            if (isComponentClass(Comp)) {\n                var instance_1 = new Comp(props, context);\n                Object.defineProperty(instance_1, 'props', {\n                    value: instance_1.props || props,\n                });\n                instance_1.context = instance_1.context || context;\n                instance_1.state = instance_1.state || null;\n                instance_1.setState = function (newState) {\n                    if (typeof newState === 'function') {\n                        newState = newState(instance_1.state, instance_1.props, instance_1.context);\n                    }\n                    instance_1.state = Object.assign({}, instance_1.state, newState);\n                };\n                if (Comp.getDerivedStateFromProps) {\n                    var result = Comp.getDerivedStateFromProps(instance_1.props, instance_1.state);\n                    if (result !== null) {\n                        instance_1.state = Object.assign({}, instance_1.state, result);\n                    }\n                }\n                else if (instance_1.UNSAFE_componentWillMount) {\n                    instance_1.UNSAFE_componentWillMount();\n                }\n                else if (instance_1.componentWillMount) {\n                    instance_1.componentWillMount();\n                }\n                if (providesChildContext(instance_1)) {\n                    childContext_1 = Object.assign({}, context, instance_1.getChildContext());\n                }\n                if (visitor(element, instance_1, context, childContext_1) === false) {\n                    return;\n                }\n                child = instance_1.render();\n            }\n            else {\n                if (visitor(element, null, context) === false) {\n                    return;\n                }\n                child = Comp(props, context);\n            }\n            if (child) {\n                if (Array.isArray(child)) {\n                    child.forEach(function (item) { return walkTree(item, childContext_1, visitor); });\n                }\n                else {\n                    walkTree(child, childContext_1, visitor);\n                }\n            }\n        }\n        else if (element.type._context || element.type.Consumer) {\n            if (visitor(element, null, context) === false) {\n                return;\n            }\n            var child = void 0;\n            if (element.type._context) {\n                element.type._context._currentValue = element.props.value;\n                child = element.props.children;\n            }\n            else {\n                child = element.props.children(element.type._currentValue);\n            }\n            if (child) {\n                if (Array.isArray(child)) {\n                    child.forEach(function (item) { return walkTree(item, context, visitor); });\n                }\n                else {\n                    walkTree(child, context, visitor);\n                }\n            }\n        }\n        else {\n            if (visitor(element, null, context) === false) {\n                return;\n            }\n            if (element.props && element.props.children) {\n                React.Children.forEach(element.props.children, function (child) {\n                    if (child) {\n                        walkTree(child, context, visitor);\n                    }\n                });\n            }\n        }\n    }\n    else if (typeof element === 'string' || typeof element === 'number') {\n        visitor(element, null, context);\n    }\n}\nfunction hasFetchDataFunction(instance) {\n    return typeof instance.fetchData === 'function';\n}\nfunction isPromise(promise) {\n    return typeof promise.then === 'function';\n}\nfunction getPromisesFromTree(_a) {\n    var rootElement = _a.rootElement, _b = _a.rootContext, rootContext = _b === void 0 ? {} : _b;\n    var promises = [];\n    walkTree(rootElement, rootContext, function (_, instance, context, childContext) {\n        if (instance && hasFetchDataFunction(instance)) {\n            var promise = instance.fetchData();\n            if (isPromise(promise)) {\n                promises.push({ promise: promise, context: childContext || context, instance: instance });\n                return false;\n            }\n        }\n    });\n    return promises;\n}\nfunction getDataAndErrorsFromTree(rootElement, rootContext, storeError) {\n    if (rootContext === void 0) { rootContext = {}; }\n    var promises = getPromisesFromTree({ rootElement: rootElement, rootContext: rootContext });\n    if (!promises.length) {\n        return Promise.resolve();\n    }\n    var mappedPromises = promises.map(function (_a) {\n        var promise = _a.promise, context = _a.context, instance = _a.instance;\n        return promise\n            .then(function (_) { return getDataAndErrorsFromTree(instance.render(), context, storeError); })\n            .catch(function (e) { return storeError(e); });\n    });\n    return Promise.all(mappedPromises);\n}\nfunction processErrors(errors) {\n    switch (errors.length) {\n        case 0:\n            break;\n        case 1:\n            throw errors.pop();\n        default:\n            var wrapperError = new Error(errors.length + \" errors were thrown when executing your fetchData functions.\");\n            wrapperError.queryErrors = errors;\n            throw wrapperError;\n    }\n}\nexport default function getDataFromTree(rootElement, rootContext) {\n    if (rootContext === void 0) { rootContext = {}; }\n    var errors = [];\n    var storeError = function (error) { return errors.push(error); };\n    return getDataAndErrorsFromTree(rootElement, rootContext, storeError).then(function (_) {\n        return processErrors(errors);\n    });\n}\n//# sourceMappingURL=getDataFromTree.js.map","import * as PropTypes from 'prop-types';\nvar invariant = require('invariant');\nvar ApolloConsumer = function (props, context) {\n    invariant(!!context.client, \"Could not find \\\"client\\\" in the context of ApolloConsumer. Wrap the root component in an <ApolloProvider>\");\n    return props.children(context.client);\n};\nApolloConsumer.contextTypes = {\n    client: PropTypes.object.isRequired,\n};\nApolloConsumer.propTypes = {\n    children: PropTypes.func.isRequired,\n};\nexport default ApolloConsumer;\n//# sourceMappingURL=ApolloConsumer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as PropTypes from 'prop-types';\nimport { Component } from 'react';\nvar invariant = require('invariant');\nvar ApolloProvider = (function (_super) {\n    __extends(ApolloProvider, _super);\n    function ApolloProvider(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.operations = new Map();\n        invariant(props.client, 'ApolloProvider was not passed a client instance. Make ' +\n            'sure you pass in your client via the \"client\" prop.');\n        if (!props.client.__operations_cache__) {\n            props.client.__operations_cache__ = _this.operations;\n        }\n        return _this;\n    }\n    ApolloProvider.prototype.getChildContext = function () {\n        return {\n            client: this.props.client,\n            operations: this.props.client.__operations_cache__,\n        };\n    };\n    ApolloProvider.prototype.render = function () {\n        return this.props.children;\n    };\n    ApolloProvider.propTypes = {\n        client: PropTypes.object.isRequired,\n        children: PropTypes.node.isRequired,\n    };\n    ApolloProvider.childContextTypes = {\n        client: PropTypes.object.isRequired,\n        operations: PropTypes.object,\n    };\n    return ApolloProvider;\n}(Component));\nexport default ApolloProvider;\n//# sourceMappingURL=ApolloProvider.js.map","var invariant = require('invariant');\nexport var DocumentType;\n(function (DocumentType) {\n    DocumentType[DocumentType[\"Query\"] = 0] = \"Query\";\n    DocumentType[DocumentType[\"Mutation\"] = 1] = \"Mutation\";\n    DocumentType[DocumentType[\"Subscription\"] = 2] = \"Subscription\";\n})(DocumentType || (DocumentType = {}));\nvar cache = new Map();\nexport function parser(document) {\n    var cached = cache.get(document);\n    if (cached)\n        return cached;\n    var variables, type, name;\n    invariant(!!document && !!document.kind, \"Argument of \" + document + \" passed to parser was not a valid GraphQL \" +\n        \"DocumentNode. You may need to use 'graphql-tag' or another method \" +\n        \"to convert your operation into a document\");\n    var fragments = document.definitions.filter(function (x) { return x.kind === 'FragmentDefinition'; });\n    var queries = document.definitions.filter(function (x) { return x.kind === 'OperationDefinition' && x.operation === 'query'; });\n    var mutations = document.definitions.filter(function (x) { return x.kind === 'OperationDefinition' && x.operation === 'mutation'; });\n    var subscriptions = document.definitions.filter(function (x) { return x.kind === 'OperationDefinition' && x.operation === 'subscription'; });\n    invariant(!fragments.length || (queries.length || mutations.length || subscriptions.length), \"Passing only a fragment to 'graphql' is not yet supported. \" +\n        \"You must include a query, subscription or mutation as well\");\n    invariant(queries.length + mutations.length + subscriptions.length <= 1, \"react-apollo only supports a query, subscription, or a mutation per HOC. \" +\n        (document + \" had \" + queries.length + \" queries, \" + subscriptions.length + \" \") +\n        (\"subscriptions and \" + mutations.length + \" mutations. \") +\n        \"You can use 'compose' to join multiple operation types to a component\");\n    type = queries.length ? DocumentType.Query : DocumentType.Mutation;\n    if (!queries.length && !mutations.length)\n        type = DocumentType.Subscription;\n    var definitions = queries.length ? queries : mutations.length ? mutations : subscriptions;\n    invariant(definitions.length === 1, \"react-apollo only supports one defintion per HOC. \" + document + \" had \" +\n        (definitions.length + \" definitions. \") +\n        \"You can use 'compose' to join multiple operation types to a component\");\n    var definition = definitions[0];\n    variables = definition.variableDefinitions || [];\n    if (definition.name && definition.name.kind === 'Name') {\n        name = definition.name.value;\n    }\n    else {\n        name = 'data';\n    }\n    var payload = { name: name, type: type, variables: variables };\n    cache.set(document, payload);\n    return payload;\n}\n//# sourceMappingURL=parser.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { ApolloError, } from 'apollo-client';\nimport { parser, DocumentType } from './parser';\nvar shallowEqual = require('fbjs/lib/shallowEqual');\nvar invariant = require('invariant');\nfunction compact(obj) {\n    return Object.keys(obj).reduce(function (acc, key) {\n        if (obj[key] !== undefined) {\n            acc[key] = obj[key];\n        }\n        return acc;\n    }, {});\n}\nfunction observableQueryFields(observable) {\n    var fields = {\n        variables: observable.variables,\n        refetch: observable.refetch.bind(observable),\n        fetchMore: observable.fetchMore.bind(observable),\n        updateQuery: observable.updateQuery.bind(observable),\n        startPolling: observable.startPolling.bind(observable),\n        stopPolling: observable.stopPolling.bind(observable),\n        subscribeToMore: observable.subscribeToMore.bind(observable),\n    };\n    return fields;\n}\nvar Query = (function (_super) {\n    __extends(Query, _super);\n    function Query(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.previousData = {};\n        _this.hasMounted = false;\n        _this.startQuerySubscription = function () {\n            if (_this.querySubscription)\n                return;\n            var initial = _this.getQueryResult();\n            _this.querySubscription = _this.queryObservable.subscribe({\n                next: function (_a) {\n                    var data = _a.data;\n                    if (initial && initial.networkStatus === 7 && shallowEqual(initial.data, data)) {\n                        initial = undefined;\n                        return;\n                    }\n                    initial = undefined;\n                    _this.updateCurrentData();\n                },\n                error: function (error) {\n                    _this.resubscribeToQuery();\n                    if (!error.hasOwnProperty('graphQLErrors'))\n                        throw error;\n                    _this.updateCurrentData();\n                },\n            });\n        };\n        _this.removeQuerySubscription = function () {\n            if (_this.querySubscription) {\n                _this.querySubscription.unsubscribe();\n                delete _this.querySubscription;\n            }\n        };\n        _this.updateCurrentData = function () {\n            var _a = _this.props, onCompleted = _a.onCompleted, onError = _a.onError;\n            if (onCompleted || onError) {\n                var currentResult = _this.queryObservable.currentResult();\n                var loading = currentResult.loading, error = currentResult.error, data = currentResult.data;\n                if (onCompleted && !loading && !error) {\n                    onCompleted(data);\n                }\n                else if (onError && !loading && error) {\n                    onError(error);\n                }\n            }\n            if (_this.hasMounted)\n                _this.forceUpdate();\n        };\n        _this.getQueryResult = function () {\n            var data = { data: Object.create(null) };\n            Object.assign(data, observableQueryFields(_this.queryObservable));\n            var currentResult = _this.queryObservable.currentResult();\n            var loading = currentResult.loading, networkStatus = currentResult.networkStatus, errors = currentResult.errors;\n            var error = currentResult.error;\n            if (errors && errors.length > 0) {\n                error = new ApolloError({ graphQLErrors: errors });\n            }\n            Object.assign(data, { loading: loading, networkStatus: networkStatus, error: error });\n            if (loading) {\n                Object.assign(data.data, _this.previousData, currentResult.data);\n            }\n            else if (error) {\n                Object.assign(data, {\n                    data: (_this.queryObservable.getLastResult() || {}).data,\n                });\n            }\n            else {\n                Object.assign(data.data, currentResult.data);\n                _this.previousData = currentResult.data;\n            }\n            if (!_this.querySubscription) {\n                var oldRefetch_1 = data.refetch;\n                data.refetch = function (args) {\n                    if (_this.querySubscription) {\n                        return oldRefetch_1(args);\n                    }\n                    else {\n                        return new Promise(function (r, f) {\n                            _this.refetcherQueue = { resolve: r, reject: f, args: args };\n                        });\n                    }\n                };\n            }\n            data.client = _this.client;\n            return data;\n        };\n        _this.client = props.client || context.client;\n        invariant(!!_this.client, \"Could not find \\\"client\\\" in the context of Query or as passed props. Wrap the root component in an <ApolloProvider>\");\n        _this.initializeQueryObservable(props);\n        return _this;\n    }\n    Query.prototype.fetchData = function () {\n        if (this.props.skip)\n            return false;\n        var _a = this.props, children = _a.children, ssr = _a.ssr, displayName = _a.displayName, skip = _a.skip, client = _a.client, onCompleted = _a.onCompleted, onError = _a.onError, opts = __rest(_a, [\"children\", \"ssr\", \"displayName\", \"skip\", \"client\", \"onCompleted\", \"onError\"]);\n        var fetchPolicy = opts.fetchPolicy;\n        if (ssr === false)\n            return false;\n        if (fetchPolicy === 'network-only' || fetchPolicy === 'cache-and-network') {\n            fetchPolicy = 'cache-first';\n        }\n        var observable = this.client.watchQuery(__assign({}, opts, { fetchPolicy: fetchPolicy }));\n        var result = this.queryObservable.currentResult();\n        return result.loading ? observable.result() : false;\n    };\n    Query.prototype.componentDidMount = function () {\n        this.hasMounted = true;\n        if (this.props.skip)\n            return;\n        this.startQuerySubscription();\n        if (this.refetcherQueue) {\n            var _a = this.refetcherQueue, args = _a.args, resolve = _a.resolve, reject = _a.reject;\n            this.queryObservable.refetch(args)\n                .then(resolve)\n                .catch(reject);\n        }\n    };\n    Query.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\n        if (nextProps.skip && !this.props.skip) {\n            this.removeQuerySubscription();\n            return;\n        }\n        var client = nextProps.client;\n        if (shallowEqual(this.props, nextProps) &&\n            (this.client === client || this.client === nextContext.client)) {\n            return;\n        }\n        if (this.client !== client && this.client !== nextContext.client) {\n            if (client) {\n                this.client = client;\n            }\n            else {\n                this.client = nextContext.client;\n            }\n            this.removeQuerySubscription();\n            this.queryObservable = null;\n            this.previousData = {};\n            this.updateQuery(nextProps);\n        }\n        if (this.props.query !== nextProps.query) {\n            this.removeQuerySubscription();\n        }\n        this.updateQuery(nextProps);\n        if (nextProps.skip)\n            return;\n        this.startQuerySubscription();\n    };\n    Query.prototype.componentWillUnmount = function () {\n        this.removeQuerySubscription();\n        this.hasMounted = false;\n    };\n    Query.prototype.render = function () {\n        var children = this.props.children;\n        var queryResult = this.getQueryResult();\n        return children(queryResult);\n    };\n    Query.prototype.extractOptsFromProps = function (props) {\n        var variables = props.variables, pollInterval = props.pollInterval, fetchPolicy = props.fetchPolicy, errorPolicy = props.errorPolicy, notifyOnNetworkStatusChange = props.notifyOnNetworkStatusChange, query = props.query, _a = props.displayName, displayName = _a === void 0 ? 'Query' : _a, _b = props.context, context = _b === void 0 ? {} : _b;\n        this.operation = parser(query);\n        invariant(this.operation.type === DocumentType.Query, \"The <Query /> component requires a graphql query, but got a \" + (this.operation.type === DocumentType.Mutation ? 'mutation' : 'subscription') + \".\");\n        return compact({\n            variables: variables,\n            pollInterval: pollInterval,\n            query: query,\n            fetchPolicy: fetchPolicy,\n            errorPolicy: errorPolicy,\n            notifyOnNetworkStatusChange: notifyOnNetworkStatusChange,\n            metadata: { reactComponent: { displayName: displayName } },\n            context: context,\n        });\n    };\n    Query.prototype.initializeQueryObservable = function (props) {\n        var opts = this.extractOptsFromProps(props);\n        if (this.context.operations) {\n            this.context.operations.set(this.operation.name, {\n                query: opts.query,\n                variables: opts.variables,\n            });\n        }\n        this.queryObservable = this.client.watchQuery(opts);\n    };\n    Query.prototype.updateQuery = function (props) {\n        if (!this.queryObservable)\n            this.initializeQueryObservable(props);\n        this.queryObservable.setOptions(this.extractOptsFromProps(props))\n            .catch(function () { return null; });\n    };\n    Query.prototype.resubscribeToQuery = function () {\n        this.removeQuerySubscription();\n        var lastError = this.queryObservable.getLastError();\n        var lastResult = this.queryObservable.getLastResult();\n        this.queryObservable.resetLastResults();\n        this.startQuerySubscription();\n        Object.assign(this.queryObservable, { lastError: lastError, lastResult: lastResult });\n    };\n    Query.contextTypes = {\n        client: PropTypes.object.isRequired,\n        operations: PropTypes.object,\n    };\n    Query.propTypes = {\n        children: PropTypes.func.isRequired,\n        fetchPolicy: PropTypes.string,\n        notifyOnNetworkStatusChange: PropTypes.bool,\n        onCompleted: PropTypes.func,\n        onError: PropTypes.func,\n        pollInterval: PropTypes.number,\n        query: PropTypes.object.isRequired,\n        variables: PropTypes.object,\n        ssr: PropTypes.bool,\n    };\n    return Query;\n}(React.Component));\nexport default Query;\n//# sourceMappingURL=Query.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nvar invariant = require('invariant');\nvar shallowEqual = require('fbjs/lib/shallowEqual');\nimport { parser, DocumentType } from './parser';\nvar initialState = {\n    loading: false,\n    called: false,\n    error: undefined,\n    data: undefined,\n};\nvar Mutation = (function (_super) {\n    __extends(Mutation, _super);\n    function Mutation(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.hasMounted = false;\n        _this.runMutation = function (options) {\n            if (options === void 0) { options = {}; }\n            _this.onMutationStart();\n            var mutationId = _this.generateNewMutationId();\n            return _this.mutate(options)\n                .then(function (response) {\n                _this.onMutationCompleted(response, mutationId);\n                return response;\n            })\n                .catch(function (e) {\n                _this.onMutationError(e, mutationId);\n                if (!_this.props.onError)\n                    throw e;\n            });\n        };\n        _this.mutate = function (options) {\n            var _a = _this.props, mutation = _a.mutation, variables = _a.variables, optimisticResponse = _a.optimisticResponse, update = _a.update, _b = _a.context, context = _b === void 0 ? {} : _b, _c = _a.awaitRefetchQueries, awaitRefetchQueries = _c === void 0 ? false : _c;\n            var refetchQueries = options.refetchQueries || _this.props.refetchQueries;\n            if (refetchQueries && refetchQueries.length && Array.isArray(refetchQueries)) {\n                refetchQueries = refetchQueries.map(function (x) {\n                    if (typeof x === 'string' && _this.context.operations)\n                        return _this.context.operations.get(x) || x;\n                    return x;\n                });\n                delete options.refetchQueries;\n            }\n            return _this.client.mutate(__assign({ mutation: mutation,\n                variables: variables,\n                optimisticResponse: optimisticResponse,\n                refetchQueries: refetchQueries,\n                awaitRefetchQueries: awaitRefetchQueries,\n                update: update,\n                context: context }, options));\n        };\n        _this.onMutationStart = function () {\n            if (!_this.state.loading && !_this.props.ignoreResults) {\n                _this.setState({\n                    loading: true,\n                    error: undefined,\n                    data: undefined,\n                    called: true,\n                });\n            }\n        };\n        _this.onMutationCompleted = function (response, mutationId) {\n            if (_this.hasMounted === false) {\n                return;\n            }\n            var _a = _this.props, onCompleted = _a.onCompleted, ignoreResults = _a.ignoreResults;\n            var data = response.data;\n            var callOncomplete = function () { return (onCompleted ? onCompleted(data) : null); };\n            if (_this.isMostRecentMutation(mutationId) && !ignoreResults) {\n                _this.setState({ loading: false, data: data }, callOncomplete);\n            }\n            else {\n                callOncomplete();\n            }\n        };\n        _this.onMutationError = function (error, mutationId) {\n            if (_this.hasMounted === false) {\n                return;\n            }\n            var onError = _this.props.onError;\n            var callOnError = function () { return (onError ? onError(error) : null); };\n            if (_this.isMostRecentMutation(mutationId)) {\n                _this.setState({ loading: false, error: error }, callOnError);\n            }\n            else {\n                callOnError();\n            }\n        };\n        _this.generateNewMutationId = function () {\n            _this.mostRecentMutationId = _this.mostRecentMutationId + 1;\n            return _this.mostRecentMutationId;\n        };\n        _this.isMostRecentMutation = function (mutationId) {\n            return _this.mostRecentMutationId === mutationId;\n        };\n        _this.verifyDocumentIsMutation = function (mutation) {\n            var operation = parser(mutation);\n            invariant(operation.type === DocumentType.Mutation, \"The <Mutation /> component requires a graphql mutation, but got a \" + (operation.type === DocumentType.Query ? 'query' : 'subscription') + \".\");\n        };\n        _this.client = props.client || context.client;\n        invariant(!!_this.client, 'Could not find \"client\" in the context or props of Mutation. Wrap ' +\n            'the root component in an <ApolloProvider>, or pass an ApolloClient ' +\n            'instance in via props.');\n        _this.verifyDocumentIsMutation(props.mutation);\n        _this.mostRecentMutationId = 0;\n        _this.state = initialState;\n        return _this;\n    }\n    Mutation.prototype.componentDidMount = function () {\n        this.hasMounted = true;\n    };\n    Mutation.prototype.componentWillUnmount = function () {\n        this.hasMounted = false;\n    };\n    Mutation.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\n        var client = nextProps.client;\n        if (shallowEqual(this.props, nextProps) &&\n            (this.client === client || this.client === nextContext.client)) {\n            return;\n        }\n        if (this.props.mutation !== nextProps.mutation) {\n            this.verifyDocumentIsMutation(nextProps.mutation);\n        }\n        if (this.client !== client && this.client !== nextContext.client) {\n            this.client = client || nextContext.client;\n            this.setState(initialState);\n        }\n    };\n    Mutation.prototype.render = function () {\n        var children = this.props.children;\n        var _a = this.state, loading = _a.loading, data = _a.data, error = _a.error, called = _a.called;\n        var result = {\n            called: called,\n            loading: loading,\n            data: data,\n            error: error,\n            client: this.client,\n        };\n        return children(this.runMutation, result);\n    };\n    Mutation.contextTypes = {\n        client: PropTypes.object.isRequired,\n        operations: PropTypes.object,\n    };\n    Mutation.propTypes = {\n        mutation: PropTypes.object.isRequired,\n        variables: PropTypes.object,\n        optimisticResponse: PropTypes.object,\n        refetchQueries: PropTypes.oneOfType([\n            PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object])),\n            PropTypes.func,\n        ]),\n        awaitRefetchQueries: PropTypes.bool,\n        update: PropTypes.func,\n        children: PropTypes.func.isRequired,\n        onCompleted: PropTypes.func,\n        onError: PropTypes.func,\n    };\n    return Mutation;\n}(React.Component));\nexport default Mutation;\n//# sourceMappingURL=Mutation.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nvar shallowEqual = require('fbjs/lib/shallowEqual');\nvar invariant = require('invariant');\nvar Subscription = (function (_super) {\n    __extends(Subscription, _super);\n    function Subscription(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialize = function (props) {\n            if (_this.queryObservable)\n                return;\n            _this.queryObservable = _this.client.subscribe({\n                query: props.subscription,\n                variables: props.variables,\n            });\n        };\n        _this.startSubscription = function () {\n            if (_this.querySubscription)\n                return;\n            _this.querySubscription = _this.queryObservable.subscribe({\n                next: _this.updateCurrentData,\n                error: _this.updateError,\n            });\n        };\n        _this.getInitialState = function () { return ({\n            loading: true,\n            error: undefined,\n            data: undefined,\n        }); };\n        _this.updateCurrentData = function (result) {\n            _this.setState({\n                data: result.data,\n                loading: false,\n                error: undefined,\n            });\n        };\n        _this.updateError = function (error) {\n            _this.setState({\n                error: error,\n                loading: false,\n            });\n        };\n        _this.endSubscription = function () {\n            if (_this.querySubscription) {\n                _this.querySubscription.unsubscribe();\n                delete _this.querySubscription;\n            }\n        };\n        invariant(!!context.client, \"Could not find \\\"client\\\" in the context of Subscription. Wrap the root component in an <ApolloProvider>\");\n        _this.client = context.client;\n        _this.initialize(props);\n        _this.state = _this.getInitialState();\n        return _this;\n    }\n    Subscription.prototype.componentDidMount = function () {\n        this.startSubscription();\n    };\n    Subscription.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\n        if (shallowEqual(this.props.variables, nextProps.variables) &&\n            this.client === nextContext.client &&\n            this.props.subscription === nextProps.subscription) {\n            return;\n        }\n        var shouldResubscribe = nextProps.shouldResubscribe;\n        if (typeof shouldResubscribe === 'function') {\n            shouldResubscribe = !!shouldResubscribe(this.props, nextProps);\n        }\n        var shouldNotResubscribe = shouldResubscribe === false;\n        if (this.client !== nextContext.client) {\n            this.client = nextContext.client;\n        }\n        if (!shouldNotResubscribe) {\n            this.endSubscription();\n            delete this.queryObservable;\n            this.initialize(nextProps);\n            this.startSubscription();\n            this.setState(this.getInitialState());\n            return;\n        }\n        this.initialize(nextProps);\n        this.startSubscription();\n    };\n    Subscription.prototype.componentWillUnmount = function () {\n        this.endSubscription();\n    };\n    Subscription.prototype.render = function () {\n        var result = Object.assign({}, this.state, {\n            variables: this.props.variables,\n        });\n        return this.props.children(result);\n    };\n    Subscription.contextTypes = {\n        client: PropTypes.object.isRequired,\n    };\n    Subscription.propTypes = {\n        subscription: PropTypes.object.isRequired,\n        variables: PropTypes.object,\n        children: PropTypes.func.isRequired,\n        shouldResubscribe: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    };\n    return Subscription;\n}(React.Component));\nexport default Subscription;\n//# sourceMappingURL=Subscriptions.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nvar invariant = require('invariant');\nimport { DocumentType } from './parser';\nexport var defaultMapPropsToOptions = function () { return ({}); };\nexport var defaultMapResultToProps = function (props) { return props; };\nexport var defaultMapPropsToSkip = function () { return false; };\nexport function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\nexport function calculateVariablesFromProps(operation, props, graphQLDisplayName, wrapperName) {\n    var variables = {};\n    for (var _i = 0, _a = operation.variables; _i < _a.length; _i++) {\n        var _b = _a[_i], variable = _b.variable, type = _b.type;\n        if (!variable.name || !variable.name.value)\n            continue;\n        var variableName = variable.name.value;\n        var variableProp = props[variableName];\n        if (typeof variableProp !== 'undefined') {\n            variables[variableName] = variableProp;\n            continue;\n        }\n        if (type.kind !== 'NonNullType') {\n            variables[variableName] = null;\n            continue;\n        }\n        if (operation.type === DocumentType.Mutation)\n            return;\n        invariant(typeof variableProp !== 'undefined', \"The operation '\" + operation.name + \"' wrapping '\" + wrapperName + \"' \" +\n            (\"is expecting a variable: '\" + variable.name.value + \"' but it was not found in the props \") +\n            (\"passed to '\" + graphQLDisplayName + \"'\"));\n    }\n    return variables;\n}\nvar GraphQLBase = (function (_super) {\n    __extends(GraphQLBase, _super);\n    function GraphQLBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this.withRef = false;\n        _this.setWrappedInstance = _this.setWrappedInstance.bind(_this);\n        return _this;\n    }\n    GraphQLBase.prototype.getWrappedInstance = function () {\n        invariant(this.withRef, \"To access the wrapped instance, you need to specify \" + \"{ withRef: true } in the options\");\n        return this.wrappedInstance;\n    };\n    GraphQLBase.prototype.setWrappedInstance = function (ref) {\n        this.wrappedInstance = ref;\n    };\n    return GraphQLBase;\n}(React.Component));\nexport { GraphQLBase };\n//# sourceMappingURL=hoc-utils.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nvar hoistNonReactStatics = require('hoist-non-react-statics');\nimport { parser } from './parser';\nimport { default as Query } from './Query';\nimport { getDisplayName, GraphQLBase, calculateVariablesFromProps, defaultMapPropsToOptions, defaultMapPropsToSkip, } from './hoc-utils';\nexport function query(document, operationOptions) {\n    if (operationOptions === void 0) { operationOptions = {}; }\n    var operation = parser(document);\n    var _a = operationOptions.options, options = _a === void 0 ? defaultMapPropsToOptions : _a, _b = operationOptions.skip, skip = _b === void 0 ? defaultMapPropsToSkip : _b, _c = operationOptions.alias, alias = _c === void 0 ? 'Apollo' : _c;\n    var mapPropsToOptions = options;\n    if (typeof mapPropsToOptions !== 'function')\n        mapPropsToOptions = function () { return options; };\n    var mapPropsToSkip = skip;\n    if (typeof mapPropsToSkip !== 'function')\n        mapPropsToSkip = function () { return skip; };\n    var lastResultProps;\n    return function (WrappedComponent) {\n        var graphQLDisplayName = alias + \"(\" + getDisplayName(WrappedComponent) + \")\";\n        var GraphQL = (function (_super) {\n            __extends(GraphQL, _super);\n            function GraphQL() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            GraphQL.prototype.render = function () {\n                var _this = this;\n                var props = this.props;\n                var shouldSkip = mapPropsToSkip(props);\n                var opts = shouldSkip ? Object.create(null) : mapPropsToOptions(props);\n                if (!shouldSkip && !opts.variables && operation.variables.length > 0) {\n                    opts.variables = calculateVariablesFromProps(operation, props, graphQLDisplayName, getDisplayName(WrappedComponent));\n                }\n                return (React.createElement(Query, __assign({}, opts, { displayName: graphQLDisplayName, skip: shouldSkip, query: document, warnUnhandledError: true }), function (_a) {\n                    var _ = _a.client, data = _a.data, r = __rest(_a, [\"client\", \"data\"]);\n                    var _b, _c;\n                    if (operationOptions.withRef) {\n                        _this.withRef = true;\n                        props = Object.assign({}, props, {\n                            ref: _this.setWrappedInstance,\n                        });\n                    }\n                    if (shouldSkip)\n                        return React.createElement(WrappedComponent, __assign({}, props));\n                    var result = Object.assign(r, data || {});\n                    var name = operationOptions.name || 'data';\n                    var childProps = (_b = {}, _b[name] = result, _b);\n                    if (operationOptions.props) {\n                        var newResult = (_c = {},\n                            _c[name] = result,\n                            _c.ownProps = props,\n                            _c);\n                        lastResultProps = operationOptions.props(newResult, lastResultProps);\n                        childProps = lastResultProps;\n                    }\n                    return React.createElement(WrappedComponent, __assign({}, props, childProps));\n                }));\n            };\n            GraphQL.displayName = graphQLDisplayName;\n            GraphQL.WrappedComponent = WrappedComponent;\n            return GraphQL;\n        }(GraphQLBase));\n        return hoistNonReactStatics(GraphQL, WrappedComponent, {});\n    };\n}\n//# sourceMappingURL=query-hoc.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport * as React from 'react';\nvar hoistNonReactStatics = require('hoist-non-react-statics');\nimport { parser } from './parser';\nimport { default as Mutation } from './Mutation';\nimport { defaultMapPropsToOptions, getDisplayName, calculateVariablesFromProps, GraphQLBase, } from './hoc-utils';\nexport function mutation(document, operationOptions) {\n    if (operationOptions === void 0) { operationOptions = {}; }\n    var operation = parser(document);\n    var _a = operationOptions.options, options = _a === void 0 ? defaultMapPropsToOptions : _a, _b = operationOptions.alias, alias = _b === void 0 ? 'Apollo' : _b;\n    var mapPropsToOptions = options;\n    if (typeof mapPropsToOptions !== 'function')\n        mapPropsToOptions = function () { return options; };\n    return function (WrappedComponent) {\n        var graphQLDisplayName = alias + \"(\" + getDisplayName(WrappedComponent) + \")\";\n        var GraphQL = (function (_super) {\n            __extends(GraphQL, _super);\n            function GraphQL() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            GraphQL.prototype.render = function () {\n                var props = this.props;\n                var opts = mapPropsToOptions(props);\n                if (operationOptions.withRef) {\n                    this.withRef = true;\n                    props = Object.assign({}, props, {\n                        ref: this.setWrappedInstance,\n                    });\n                }\n                if (!opts.variables && operation.variables.length > 0) {\n                    opts.variables = calculateVariablesFromProps(operation, props, graphQLDisplayName, getDisplayName(WrappedComponent));\n                }\n                return (React.createElement(Mutation, __assign({}, opts, { mutation: document, ignoreResults: true }), function (mutate, _result) {\n                    var _a, _b;\n                    var name = operationOptions.name || 'mutate';\n                    var childProps = (_a = {}, _a[name] = mutate, _a);\n                    if (operationOptions.props) {\n                        var newResult = (_b = {},\n                            _b[name] = mutate,\n                            _b.ownProps = props,\n                            _b);\n                        childProps = operationOptions.props(newResult);\n                    }\n                    return React.createElement(WrappedComponent, __assign({}, props, childProps));\n                }));\n            };\n            GraphQL.displayName = graphQLDisplayName;\n            GraphQL.WrappedComponent = WrappedComponent;\n            return GraphQL;\n        }(GraphQLBase));\n        return hoistNonReactStatics(GraphQL, WrappedComponent, {});\n    };\n}\n//# sourceMappingURL=mutation-hoc.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nvar hoistNonReactStatics = require('hoist-non-react-statics');\nimport { parser } from './parser';\nimport { default as Subscription } from './Subscriptions';\nimport { getDisplayName, GraphQLBase, calculateVariablesFromProps, defaultMapPropsToOptions, defaultMapPropsToSkip, } from './hoc-utils';\nexport function subscribe(document, operationOptions) {\n    if (operationOptions === void 0) { operationOptions = {}; }\n    var operation = parser(document);\n    var _a = operationOptions.options, options = _a === void 0 ? defaultMapPropsToOptions : _a, _b = operationOptions.skip, skip = _b === void 0 ? defaultMapPropsToSkip : _b, _c = operationOptions.alias, alias = _c === void 0 ? 'Apollo' : _c, shouldResubscribe = operationOptions.shouldResubscribe;\n    var mapPropsToOptions = options;\n    if (typeof mapPropsToOptions !== 'function')\n        mapPropsToOptions = function () { return options; };\n    var mapPropsToSkip = skip;\n    if (typeof mapPropsToSkip !== 'function')\n        mapPropsToSkip = function () { return skip; };\n    var lastResultProps;\n    return function (WrappedComponent) {\n        var graphQLDisplayName = alias + \"(\" + getDisplayName(WrappedComponent) + \")\";\n        var GraphQL = (function (_super) {\n            __extends(GraphQL, _super);\n            function GraphQL(props) {\n                var _this = _super.call(this, props) || this;\n                _this.state = { resubscribe: false };\n                return _this;\n            }\n            GraphQL.prototype.componentWillReceiveProps = function (nextProps) {\n                if (!shouldResubscribe)\n                    return;\n                this.setState({\n                    resubscribe: shouldResubscribe(this.props, nextProps),\n                });\n            };\n            GraphQL.prototype.render = function () {\n                var _this = this;\n                var props = this.props;\n                var shouldSkip = mapPropsToSkip(props);\n                var opts = shouldSkip ? Object.create(null) : mapPropsToOptions(props);\n                if (!shouldSkip && !opts.variables && operation.variables.length > 0) {\n                    opts.variables = calculateVariablesFromProps(operation, props, graphQLDisplayName, getDisplayName(WrappedComponent));\n                }\n                return (React.createElement(Subscription, __assign({}, opts, { displayName: graphQLDisplayName, skip: shouldSkip, subscription: document, shouldResubscribe: this.state.resubscribe }), function (_a) {\n                    var data = _a.data, r = __rest(_a, [\"data\"]);\n                    var _b, _c;\n                    if (operationOptions.withRef) {\n                        _this.withRef = true;\n                        props = Object.assign({}, props, {\n                            ref: _this.setWrappedInstance,\n                        });\n                    }\n                    if (shouldSkip)\n                        return React.createElement(WrappedComponent, __assign({}, props));\n                    var result = Object.assign(r, data || {});\n                    var name = operationOptions.name || 'data';\n                    var childProps = (_b = {}, _b[name] = result, _b);\n                    if (operationOptions.props) {\n                        var newResult = (_c = {},\n                            _c[name] = result,\n                            _c.ownProps = props,\n                            _c);\n                        lastResultProps = operationOptions.props(newResult, lastResultProps);\n                        childProps = lastResultProps;\n                    }\n                    return React.createElement(WrappedComponent, __assign({}, props, childProps));\n                }));\n            };\n            GraphQL.displayName = graphQLDisplayName;\n            GraphQL.WrappedComponent = WrappedComponent;\n            return GraphQL;\n        }(GraphQLBase));\n        return hoistNonReactStatics(GraphQL, WrappedComponent, {});\n    };\n}\n//# sourceMappingURL=subscription-hoc.js.map","import { parser, DocumentType } from './parser';\nimport { query } from './query-hoc';\nimport { mutation } from './mutation-hoc';\nimport { subscribe } from './subscription-hoc';\nexport function graphql(document, operationOptions) {\n    if (operationOptions === void 0) { operationOptions = {}; }\n    switch (parser(document).type) {\n        case DocumentType.Mutation:\n            return mutation(document, operationOptions);\n        case DocumentType.Subscription:\n            return subscribe(document, operationOptions);\n        case DocumentType.Query:\n        default:\n            return query(document, operationOptions);\n    }\n}\n//# sourceMappingURL=graphql.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport * as React from 'react';\nimport ApolloConsumer from './ApolloConsumer';\nvar invariant = require('invariant');\nvar hoistNonReactStatics = require('hoist-non-react-statics');\nfunction getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\nexport default function withApollo(WrappedComponent, operationOptions) {\n    if (operationOptions === void 0) { operationOptions = {}; }\n    var withDisplayName = \"withApollo(\" + getDisplayName(WrappedComponent) + \")\";\n    var WithApollo = (function (_super) {\n        __extends(WithApollo, _super);\n        function WithApollo(props) {\n            var _this = _super.call(this, props) || this;\n            _this.setWrappedInstance = _this.setWrappedInstance.bind(_this);\n            return _this;\n        }\n        WithApollo.prototype.getWrappedInstance = function () {\n            invariant(operationOptions.withRef, \"To access the wrapped instance, you need to specify \" + \"{ withRef: true } in the options\");\n            return this.wrappedInstance;\n        };\n        WithApollo.prototype.setWrappedInstance = function (ref) {\n            this.wrappedInstance = ref;\n        };\n        WithApollo.prototype.render = function () {\n            var _this = this;\n            return (React.createElement(ApolloConsumer, null, function (client) {\n                var props = Object.assign({}, _this.props, {\n                    client: client,\n                    ref: operationOptions.withRef ? _this.setWrappedInstance : undefined,\n                });\n                return React.createElement(WrappedComponent, __assign({}, props));\n            }));\n        };\n        WithApollo.displayName = withDisplayName;\n        WithApollo.WrappedComponent = WrappedComponent;\n        return WithApollo;\n    }(React.Component));\n    return hoistNonReactStatics(WithApollo, WrappedComponent, {});\n}\n//# sourceMappingURL=withApollo.js.map","export { default as getDataFromTree } from './getDataFromTree';\nexport * from './getDataFromTree';\nexport { default as ApolloConsumer } from './ApolloConsumer';\nexport * from './ApolloConsumer';\nexport { default as ApolloProvider } from './ApolloProvider';\nexport * from './ApolloProvider';\nexport { default as Query } from './Query';\nexport * from './Query';\nexport { default as Mutation } from './Mutation';\nexport * from './Mutation';\nexport { default as Subscription } from './Subscriptions';\nexport * from './Subscriptions';\nexport { graphql } from './graphql';\nexport { default as withApollo } from './withApollo';\nexport * from './withApollo';\nvar compose = require('lodash/flowRight');\nexport { compose };\n//# sourceMappingURL=browser.js.map"]},"metadata":{},"sourceType":"script"}